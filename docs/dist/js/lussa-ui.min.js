/*! lussa-ui 10-06-2015 */
"use strict";angular.module("lussa.ui.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(a,b,c){function d(b,d,e){n||(angular.extend(b,{direction:e,active:!0}),angular.extend(k.currentSlide||{},{direction:e,active:!1}),c.enabled()&&!a.noTransition&&!a.$currentTransition&&b.$element&&(a.$currentTransition=!0,b.$element.one("$animate:close",function(){a.$currentTransition=null})),k.currentSlide=b,m=d,f())}function e(a){if(angular.isUndefined(l[a].index))return l[a];var b;l.length;for(b=0;b<l.length;++b)if(l[b].index==a)return l[b]}function f(){g();var c=+a.interval;!isNaN(c)&&c>0&&(i=b(h,c))}function g(){i&&(b.cancel(i),i=null)}function h(){var b=+a.interval;j&&!isNaN(b)&&b>0?a.next():a.pause()}var i,j,k=this,l=k.slides=a.slides=[],m=-1;k.currentSlide=null;var n=!1;k.select=a.select=function(b,c){var e=k.indexOfSlide(b);void 0===c&&(c=e>k.getCurrentIndex()?"next":"prev"),b&&b!==k.currentSlide&&!a.$currentTransition&&d(b,e,c)},a.$on("$destroy",function(){n=!0}),k.getCurrentIndex=function(){return k.currentSlide&&angular.isDefined(k.currentSlide.index)?+k.currentSlide.index:m},k.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:l.indexOf(a)},a.next=function(){var a=(k.getCurrentIndex()+1)%l.length;return k.select(e(a),"next")},a.prev=function(){var a=k.getCurrentIndex()-1<0?l.length-1:k.getCurrentIndex()-1;return k.select(e(a),"prev")},a.isActive=function(a){return k.currentSlide===a},a.$watch("interval",f),a.$on("$destroy",g),a.play=function(){j||(j=!0,f())},a.pause=function(){a.noPause||(j=!1,g())},k.addSlide=function(b,c){b.$element=c,l.push(b),1===l.length||b.active?(k.select(l[l.length-1]),1==l.length&&a.play()):b.active=!1},k.removeSlide=function(a){angular.isDefined(a.index)&&l.sort(function(a,b){return+a.index>+b.index});var b=l.indexOf(a);l.splice(b,1),l.length>0&&a.active?k.select(b>=l.length?l[b-1]:l[b]):m>b&&m--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",template:'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">    <ol class="carousel-indicators" ng-show="slides.length > 1">        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>    </ol>    <div class="carousel-inner" ng-transclude></div>    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="icon icon-chevron-left"></span></a>    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="icon icon-chevron-right"></span></a></div>',scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,template:'<div ng-class="{    \'active\': active  }" class="item text-center" ng-transclude></div>',scope:{active:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$animate",function(a){return{beforeAddClass:function(b,c,d){if("active"==c&&b.parent()&&!b.parent().scope().noTransition){var e=!1,f=b.isolateScope().direction,g="next"==f?"left":"right";return b.addClass(f),a.addClass(b,g).then(function(){e||b.removeClass(g+" "+f),d()}),function(){e=!0}}d()},beforeRemoveClass:function(b,c,d){if("active"==c&&b.parent()&&!b.parent().scope().noTransition){var e=!1,f=b.isolateScope().direction,g="next"==f?"left":"right";return a.addClass(b,g).then(function(){e||b.removeClass(g),d()}),function(){e=!0}}d()}}}]),angular.module("lussa.ui.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(b,c,d){function e(){c.removeClass("collapse").addClass("collapsing"),a.addClass(c,"in",{to:{height:c[0].scrollHeight+"px"}}).then(f)}function f(){c.removeClass("collapsing"),c.css({height:"auto"})}function g(){c.css({height:c[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),a.removeClass(c,"in",{to:{height:"0"}}).then(h)}function h(){c.css({height:"0"}),c.removeClass("collapsing"),c.addClass("collapse")}b.$watch(d.collapse,function(a){a?g():e()})}}}]);var dropDown=angular.module("lussa.ui.dropdown",[]);dropDown.directive("uiDropdown",["$log",function(a){var b=500,c="easeOutExpo";return{scope:{isOpen:"@",onOpen:"&",onClose:"&",openEasing:"@",openSpeed:"@",closeEasing:"@",closeSpeed:"@",toggleByHover:"@"},transclude:!0,template:'<div class="ui-dropdown"><ng-transclude></ng-transclude></div>',restrict:"E",link:function(a,d,e,f){function g(){i=!1,k.slideUp(l.open.speed,l.open.easing),a.onOpen(d)}function h(){i=!0,k.slideDown(l.close.speed,l.close.easing),a.onClose(d)}var i=e.isOpen||!1,j=d.find(".dropdown-toggle"),k=d.find(".dropdown-content, .dropdown-menu"),l={open:{speed:e.openSpeed||b,easing:e.openEasing||c},close:{speed:e.closeSpeed||b,easing:e.closeEasing||c}};i&&k.show(),e.toggleByHover?d.hoverIntent({over:function(){i||h()},out:function(){i&&g()},timeout:500}):j.on("click",function(a){i?g():h()})}}}]);var LussaUiForm=angular.module("lussa.ui.form",["lussa.ui.form.datePicker","lussa.ui.form.autoComplete","lussa.ui.form.fileUploader","lussa.ui.form.tag","lussa.ui.form.validation"]),form=angular.module("lussa.ui.form.autoComplete",[]);form.directive("autoComplete",["$q","$parse","$http","$sce","$timeout",function(a,b,c,d,e){var f=40,g=39,h=38,i=37,j=27,k=13,l=9,m=3,n=500,o=200,p="autocomplete-required",q="Pencarian..",r="Pencarian tidak ditemukan",s='<div class="auto-complete-container" ng-class="{\'auto-complete-dropdown-visible\': showDropdown}">    <input id="{{id}}_value" ng-model="searchStr"        ng-disabled="disableInput"        type="{{type}}"        placeholder="{{placeholder}}"        ng-focus="onFocusHandler()"        class="{{inputClass}}"        ng-focus="resetHideResults()"        ng-blur="hideResults($event)"        autocapitalize="off"        autocorrect="off"        autocomplete="off"        ng-change="inputChangeHandler(searchStr)"/>    <div id="{{id}}_dropdown" class="auto-complete-dropdown" ng-show="showDropdown">        <div class="auto-complete-searching" ng-show="searching" ng-bind="textSearching"></div>       <div class="auto-complete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>       <div class="auto-complete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)"            ng-class="{\'auto-complete-selected-row\': $index == currentIndex}">           <div ng-if="imageField" class="auto-complete-image-holder">                <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="auto-complete-image"/>                <div ng-if="!result.image && result.image != \'\'" class="auto-complete-image-default"></div>            </div>            <div class="auto-complete-title" ng-if="matchClass" ng-bind-html="result.title"></div>            <div class="auto-complete-title" ng-if="!matchClass">{{ result.title }}</div>            <div ng-if="matchClass && result.description && result.description != \'\'" class="auto-complete-description" ng-bind-html="result.description"></div>            <div ng-if="!matchClass && result.description && result.description != \'\'" class="auto-complete-description">{{result.description}}</div>        </div>    </div> </div>';return{restrict:"EA",require:"^?form",scope:{selectedObject:"=",disableInput:"=",initialValue:"@",localData:"=",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",id:"@",type:"@",placeholder:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"@",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&"},template:s,link:function(b,s,t,u){function v(a){return a.which?a.which:a.keyCode}function w(a){"function"==typeof b.selectedObject?b.selectedObject(a):b.selectedObject=a,C(a?!0:!1)}function x(a){return function(c){return b[a]?b[a](c):c}}function y(a){w({originalObject:a}),b.clearSelected&&(b.searchStr=null),Q()}function z(a){return b.titleField.split(",").map(function(b){return A(a,b)}).join(" ")}function A(a,b){var c,d;return b?(c=b.split("."),d=a,c.forEach(function(a){d=d[a]})):d=a,d}function B(a,c){var e,f,g;return g=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),a?(f=a.match(g),e=f?a.replace(g,'<span class="'+b.matchClass+'">'+f[0]+"</span>"):a,d.trustAsHtml(e)):void 0}function C(a){ba=b.searchStr,b.fieldRequired&&u&&u.$setValidity(aa,a)}function D(a){var c=v(a);c!==i&&c!==g&&(c===h||c===k?a.preventDefault():c===f?(a.preventDefault(),!b.showDropdown&&b.searchStr&&b.searchStr.length>=$&&(R(),b.searching=!0,U(b.searchStr))):c===j?(Q(),b.$apply(function(){Z.val(b.searchStr)})):(b.searchStr&&""!==b.searchStr?b.searchStr.length>=$&&(R(),_&&e.cancel(_),b.searching=!0,_=e(function(){U(b.searchStr)},b.pause)):b.showDropdown=!1,ba&&ba!==b.searchStr&&!b.clearSelected&&w(void 0)))}function E(a){!b.overrideSuggestions||b.selectedObject&&b.selectedObject.originalObject===b.searchStr||(a&&a.preventDefault(),y(b.searchStr))}function F(a){var b=getComputedStyle(a);return a.offsetHeight+parseInt(b.marginTop,10)+parseInt(b.marginBottom,10)}function G(){return da.getBoundingClientRect().top+parseInt(getComputedStyle(da).maxHeight,10)}function H(){return s[0].querySelectorAll(".auto-complete-row")[b.currentIndex]}function I(){return H().getBoundingClientRect().top-(da.getBoundingClientRect().top+parseInt(getComputedStyle(da).paddingTop,10))}function J(a){da.scrollTop=da.scrollTop+a}function K(){var a=b.results[b.currentIndex];Z.val(b.matchClass?z(a.originalObject):a.title)}function L(a){var c=v(a),d=null,e=null;c===k&&b.results?(b.currentIndex>=0&&b.currentIndex<b.results.length?(a.preventDefault(),b.selectResult(b.results[b.currentIndex])):(E(a),Q()),b.$apply()):c===f&&b.results?(a.preventDefault(),b.currentIndex+1<b.results.length&&b.showDropdown&&(b.$apply(function(){b.currentIndex++,K()}),ea&&(d=H(),G()<d.getBoundingClientRect().bottom&&J(F(d))))):c===h&&b.results?(a.preventDefault(),b.currentIndex>=1?(b.$apply(function(){b.currentIndex--,K()}),ea&&(e=I(),0>e&&J(e-1))):0===b.currentIndex&&b.$apply(function(){b.currentIndex=-1,Z.val(b.searchStr)})):c===l&&(b.results&&b.results.length>0&&b.showDropdown?-1===b.currentIndex&&b.overrideSuggestions?E():(-1===b.currentIndex&&(b.currentIndex=0),b.selectResult(b.results[b.currentIndex]),b.$digest()):b.searchStr&&b.searchStr.length>0&&E())}function M(a){return function(c,d,e,f){b.searching=!1,V(A(X(c),b.remoteUrlDataField),a)}}function N(a,c,d,e){0!==c&&(b.remoteUrlErrorCallback?b.remoteUrlErrorCallback(a,c,d,e):console&&console.error&&console.error("http error"))}function O(){ca&&ca.resolve()}function P(d){var e={},f=b.remoteUrl+encodeURIComponent(d);b.remoteUrlRequestFormatter&&(e={params:b.remoteUrlRequestFormatter(d)},f=b.remoteUrl),b.remoteUrlRequestWithCredentials&&(e.withCredentials=!0),O(),ca=a.defer(),e.timeout=ca.promise,c.get(f,e).success(M(d)).error(N)}function Q(){b.showDropdown=!1,b.results=[],da&&(da.scrollTop=0)}function R(){b.showDropdown=!0,b.currentIndex=-1,b.results=[]}function S(a){var c,d,e,f,g=b.searchFields.split(","),h=[];for(c=0;c<b.localData.length;c++){for(d=!1,e=0;e<g.length;e++)f=A(b.localData[c],g[e])||"",d=d||f.toLowerCase().indexOf(a.toLowerCase())>=0;d&&(h[h.length]=b.localData[c])}b.searching=!1,V(h,a)}function T(a,c,d){for(var e in c)if(c[e].toLowerCase()===d.toLowerCase())return void b.selectResult(a)}function U(a){!a||a.length<$||(b.localData?b.$apply(function(){S(a)}):P(a))}function V(a,c){var d,e,f,g,h,i;if(a&&a.length>0)for(b.results=[],d=0;d<a.length;d++)b.titleField&&""!==b.titleField&&(g=h=z(a[d])),e="",b.descriptionField&&(e=i=A(a[d],b.descriptionField)),f="",b.imageField&&(f=A(a[d],b.imageField)),b.matchClass&&(h=B(g,c),i=B(e,c)),b.results[b.results.length]={title:h,description:i,image:f,originalObject:a[d]},b.autoMatch&&T(b.results[b.results.length-1],{title:g,desc:e||""},b.searchStr);else b.results=[]}var W,X,Y,Z=s.find("input"),$=m,_=null,aa=p,ba=null,ca=null,da=s[0].querySelector(".auto-complete-dropdown"),ea=!1,fa=null;s.on("mousedown",function(a){fa=a.target.id}),b.currentIndex=null,b.searching=!1,b.searchStr=b.initialValue,Y=b.$watch("initialValue",function(a,c){a&&a.length>0&&(b.searchStr=b.initialValue,C(!0),Y())}),b.$on("auto-complete-alt:clearInput",function(a,c){c?b.id===c&&(b.searchStr=null,Q()):(b.searchStr=null,Q())}),b.onFocusHandler=function(){b.focusIn&&b.focusIn()},b.hideResults=function(a){fa===b.id+"_dropdown"?fa=null:(W=e(function(){Q(),b.$apply(function(){b.searchStr&&b.searchStr.length>0&&Z.val(b.searchStr)})},o),O(),b.focusOut&&b.focusOut(),b.overrideSuggestions&&b.searchStr&&b.searchStr.length>0&&-1===b.currentIndex&&E())},b.resetHideResults=function(){W&&e.cancel(W)},b.hoverRow=function(a){b.currentIndex=a},b.selectResult=function(a){b.matchClass&&(a.title=z(a.originalObject),a.description=A(a.originalObject,b.descriptionField)),b.clearSelected?b.searchStr=null:b.searchStr=a.title,w(a),Q()},b.inputChangeHandler=function(a){return a.length<$&&Q(),b.inputChanged&&(a=b.inputChanged(a)),a},b.fieldRequiredClass&&""!==b.fieldRequiredClass&&(aa=b.fieldRequiredClass),b.minlength&&""!==b.minlength&&($=b.minlength),b.pause||(b.pause=n),b.clearSelected||(b.clearSelected=!1),b.overrideSuggestions||(b.overrideSuggestions=!1),b.fieldRequired&&u&&C(b.initialValue?!0:!1),b.textSearching=t.textSearching?t.textSearching:q,b.textNoResults=t.textNoResults?t.textNoResults:r,Z.on("keydown",L),Z.on("keyup",D),X=x("remoteUrlResponseFormatter"),b.$on("$destroy",function(){C(!0)}),e(function(){var a=getComputedStyle(da);ea=a.maxHeight&&"auto"===a.overflowY})}}}]);var DatePicker=angular.module("lussa.ui.form.datePicker",[]);DatePicker.directive("datePicker",["$log","$document","$filter",function(a,b,c){function d(c,d,f,g){c.attrs=f,g.$formatters.unshift(function(a){var b=h.formatDate(a,c.format);return a<c.startDate&&g.$setValidity("DATE-TOO-EARLY",!1),a>c.endDate&&g.$setValidity("DATE-TOO-LATE",!1),c.modelviewvalue=b,b}),g.$parsers.unshift(function(a){return"Hoops"}),c.moveMonth=function(a,b){if(!b)return a;var d,e,f=c.ngModel,g=f.getDate(),h=f.getMonth(),i=Math.abs(b);if(b=b>0?1:-1,1==i)e=-1===b?function(){return f.getMonth()==h}:function(){return f.getMonth()!=d},d=h+b,f.setMonth(d),(0>d||d>11)&&(d=(d+12)%12);else{for(var j=0;i>j;j++)f=c.moveMonth(f,b);d=f.getMonth(),f.setDate(g),e=function(){return d!=f.getMonth()}}for(;e();)f.setDate(--g),f.setMonth(d);return f},c.moveYear=function(a,b){return c.moveMonth(a,12*b)},c.showMode=function(a){a&&(c.viewMode=Math.max(0,Math.min(2,c.viewMode+a)),c.$apply(),c.updateNavArrows())},c.closest=function(a,b){for(var c=a;c[0];){for(var d=0;d<b.length;d++)if(b[d]===c[0].tagName)return c;c=c.parent()}},c.today=function(){var a=new Date,b=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);return b},c.setDate=function(a){a||(a=c.today()),c.$apply(function(){c.ngModel=a}),g.$setTouched(),c.autohide&&c.hide(!0),c.callback&&c.callback(a,c.pickerid)},c.updateNavArrows=function(){var a=c.viewDate,b=a.getFullYear(),d=a.getMonth();switch(c.viewMode){case 0:c.find(".prev").css(b<=c.startDate.getFullYear()&&d<=c.startDate.getMonth()?{visibility:"hidden"}:{visibility:"visible"}),c.find(".next").css(b>=c.endDate.getFullYear()&&d>=c.endDate.getMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:c.find(".prev").css(b<=c.startDate.getFullYear()?{visibility:"hidden"}:{visibility:"visible"}),c.find(".next").css(b>=c.endDate.getFullYear()?{visibility:"hidden"}:{visibility:"visible"})}},c.fillMonths=function(){for(var a="",b=0;12>b;)a+='<span class="picker month">'+e[c.language].monthsShort[b++]+"</span>";c.find(".datepicker-months td").html(a)},c.fill=function(){var a=c.viewDate.getFullYear(),b=c.viewDate.getMonth(),d=c.viewDate.getDate(),g=c.startDate.getFullYear(),i=c.startDate.getMonth(),j=c.endDate.getFullYear(),k=c.endDate.getMonth(),l=c.today();c.find(".datepicker-days th.date-switch").text(e[c.language].months[b]+" "+a),c.updateNavArrows(),c.fillMonths();var m=new Date(a,b-1,28,0,0,0,0),n=h.getDaysInMonth(m.getFullYear(),m.getMonth());m.setDate(n),m.setDate(n-(m.getDay()-c.weekStart+7)%7);var o=new Date(m.valueOf());o.setDate(o.getDate()+42),o=o.valueOf();for(var p,q,r=[];m.valueOf()<o;){if(p="picker",m.getDay()===c.weekStart&&(r.push("<tr>"),c.calendarWeeks)){var s=new Date(m.getFullYear(),m.getMonth(),m.getDate()-m.getDay()+10-(c.weekStart&&c.weekStart%7<5&&7)),t=new Date(s.getFullYear(),0,4),u=~~((s-t)/864e5/7+1.5);r.push('<td class="cw">'+u+"</td>")}m.valueOf()<c.startDate.valueOf()||m.valueOf()>c.endDate.valueOf()||-1!==c.dayoff.indexOf(m.getDay())?(p+=" disabled",q=!0):q=!1,m.getFullYear()<a||m.getFullYear()===a&&m.getMonth()<b?p+=" old":(m.getFullYear()>a||m.getFullYear()===a&&m.getMonth()>b)&&(p+=" new"),m===l&&(c.todayHighlight&&(p+=" today"),f.today&&(q?c.todayClass="disabled":c.todayClass="enable")),a===m.getFullYear()&&b===m.getMonth()&&d===m.getDate()&&(p+=" active"),r.push('<td class="day '+p+'">'+m.getDate()+"</td>"),m.getDay()===c.weekEnd&&r.push("</tr>"),m.setDate(m.getDate()+1)}c.find(".datepicker-days tbody").empty().append(r.join(""));var v=c.viewDate.getFullYear(),w=c.find(".datepicker-months");c.find("th.date-switch",w).text(a);var x=w.find("span",w);if(x.removeClass("active"),v&&v===a&&x.eq(c.viewDate.getMonth()).addClass("active"),(g>a||a>j)&&x.addClass("disabled"),a===g)for(var y=0;i>y;y++)x.eq(y).addClass("disabled");if(a===j)for(var y=k+1;y<x.length;y++)x.eq(y).addClass("disabled");r="",a=10*parseInt(a/10,10);var z=c.find(".datepicker-years");c.find("th.date-switch",z).text(a+"-"+(a+9)),z=z.find("td"),a-=1;for(var A=-1;11>A;A++)r+='<span class="picker year'+(-1===A||10===A?" old":"")+(v===a?" active":"")+(g>a||a>j?" disabled":"")+'">'+a+"</span>",a+=1;z.html(r)},c.place=function(){d[0].getBoundingClientRect();c.picker.css({zIndex:100,display:"block"})},c.update=function(){c.viewDate=new Date(c.ngModel||new Date),this.viewDate<this.startDate?this.viewDate=new Date(this.startDate.valueOf()):this.viewDate>this.endDate&&(this.viewDate=new Date(this.endDate.valueOf())),this.fill()},c.dateValueWithinRange=function(a){return a>=c.startDate&&a<=c.endDate},c.onclick=function(a){var b=angular.element(a);if(b.hasClass("datepicker-close"))return void c.hide(!0);var d=c.closest(b,["SPAN","TD","TH"]);switch(d[0].tagName){case"TH":if(d.hasClass("date-switch")&&c.showMode(1),d.hasClass("prev")||d.hasClass("next")){var e=h.modes[c.viewMode].navStep*(d.hasClass("prev")?-1:1);switch(c.viewMode){case 0:c.viewDate=c.moveMonth(c.viewDate,e);break;case 1:case 2:c.viewDate=c.moveYear(c.viewDate,e)}c.fill()}else if(d.hasClass("today")){c.setDate(),c.autohide&&c.hide(!0);break}break;case"SPAN":if(!d.hasClass("disabled")){if(d.hasClass("month")){for(var f=d.parent().find("span"),g=0;g<f.length;g++)if(d.text()===f.eq(g).text()){c.viewDate.setMonth(g);break}}else{var i=parseInt(d.text(),10)||0;c.viewDate.setFullYear(i)}c.showMode(-1),c.fill()}break;case"TD":if(d.hasClass("day")&&!d.hasClass("disabled")){var j=parseInt(d.text(),10)||1,i=c.viewDate.getFullYear(),k=c.viewDate.getMonth();d.hasClass("old")?0===k?(k=11,i-=1):k-=1:d.hasClass("new")&&(11===k?(k=0,i+=1):k+=1),c.setDate(new Date(i,k,j,0,0,0,0))}}},c.keydown=function(a){switch(a.keyCode){case 27:case 13:case 9:c.hide(!0)}},c.find=function(a,b){var c;c=b?b[0].querySelector(a):d[0].querySelector(a);var e=angular.element(c);return e},c.setStartDate=function(a){a?c.startDate=a:c.startDate=new Date(0,0,0)},c.setEndDate=function(a){a?c.endDate=a:c.endDate=new Date(3e3,0,0)},c.show=function(a){c.ngModel||(c.ngModel=new Date),c.update(),c.place(),c.viewMode=0,c.showPicker=!0,b.on("keydown",c.keydown),a&&c.$apply()},c.hide=function(d){a.log("hide picker"),c.showPicker=!1,c.picker.off("mousedown"),b.unbind("keydown",c.keydown),d&&c.$apply()},c.displayPicker=function(a){c.picker&&(c.showPicker?c.hide():(c.bindevent(c.picker),c.show()))},c.bindevent=function(a){function b(a){a.preventDefault(),a.explicitOriginalTarget?c.onclick(a.explicitOriginalTarget):a.target?c.onclick(a.target):$(window).alert("Browser click event not supported [report a bug]")}a.on("mousedown",b)},c.init=function(){var a,b;if(c.dayoff=[],f.dayoff)for(var g=f.dayoff.split(","),h=0;h<g.length;h++)c.dayoff.push(parseInt(g[h]));if(c.pickerid=f.id||"date-picker-"+parseInt(1e3*Math.random()),c.language=f.language||c.locale||"en",c.autohide=f.autohide||!0,c.weekStart=f.weekstart||1,c.calendarWeeks=f.weeknum||!1,c.todayButton=f.today||!1,c.todayHighlight=f.highlight||!0,c.placeholder=f.placeholder||"",c.format=f.format||c.datefmt||"dd-MM-yyyy",c.locales=e[c.language],c.setStartDate(c.notBefore),c.setEndDate(c.notAfter),f.today&&"true"===c.todayButton.toLowerCase()&&(c.todayButton=c.locales.today),f.iconify&&(a=d.find("input"),b=d.find("label"),a.addClass("date-input-hidden"),b.addClass("date-input-hidden"),d.addClass("ui-iconified")),f.icon||f.iconify){var i=d.find("span");i.addClass("icon-label-input fa fa-calendar fi-calendar")}f.label&&(b=d.find("label"),b.html(f.label)),c.$watch("notBefore",function(){c.setStartDate(c.notBefore),c.update(),c.updateNavArrows()}),c.$watch("notAfter",function(){c.setEndDate(c.notAfter),c.update(),c.updateNavArrows()}),c.picker=c.find("div .datepicker")},c.init()}var e={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",placeholder:"Select Date"},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Dec"],today:"Aujourd`hui",placeholder:"Date Selection"},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Deciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"},de:{months:["Januar","Februar","Marz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute"},nl:{months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag"}},f={headTemplate:'<thead><tr><th class="prev"><i class="icon icon-ios-arrow-left"/></th><th colspan="5" class="date-switch"></th><th class="next"><i class="icon icon-ios-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot ng-show="todayButton"><tr><th colspan="7" class="today">{{todayButton}}</th></tr></tfoot>',headTemplateDays:'<thead><tr><th class="prev"><i class="icon icon-ios-arrow-left"/></th><th colspan="5" class="date-switch"></th><th class="next"><i class="icon icon-ios-arrow-right"/></th></tr></thead>',footTemplateDays:'<tfoot class="picker {{todayClass}}" ng-show="todayButton"><tr><th colspan="7" class="today">{{todayButton}}</th></tr></tfoot>'},g='<div class="ui-date-picker"> <div ng-click="displayPicker()" class="date-display form-group"><label for={{pickerid}} class="date-input-label"></label><input readonly id={{pickerid}} class="date-input form-control {{attrs.inputClass}}" placeholder="{{placeholder}}" value="{{modelviewvalue}}"><span class="date-input-icon"></span><div ng-show="showPicker" class="datepicker datepicker-dropdown"><div ng-show="viewMode === 0" class="datepicker-days"><table class=" table-condensed">'+f.headTemplateDays+"<tbody></tbody>"+f.footTemplateDays+'</table></div><div ng-show="viewMode === 1" class="datepicker-months"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div ng-show="viewMode === 2" class="datepicker-years"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><a class="button datepicker-close small alert right" style="width:auto;"><i class="fa fa-remove fa-times fi-x"></i></a></div>',h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,h.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},formatDate:function(a,b,d){var e=c("date")(a,b,d);return e}};return{restrict:"E",scope:{datefmt:"=",locale:"=",ngModel:"=",notAfter:"=",notBefore:"=",callback:"="},template:g,require:"ngModel",replace:!0,link:d}}]);var form=angular.module("lussa.ui.form.fileUploader",[]);form.factory("FileUploaderFactory",["$http","$log",function(a,b){var c=function(a){return a.type.indexOf("image")>-1==!1||a.size>1e7?(b.error("ukuran file tidak boleh melebihi 10MB dan harus dalam format gambar"),!1):!0},d=function(a){return a.size>25e6?(b.error("ukuran file tidak boleh melebihi 25MB"),!1):!0},e=function(b,c){var e=new FormData;_.each(b,function(a){if(!d(a))throw"ukuran file tidak boleh melebihi 25MB";e.append("file",a)}),a.post(c,e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(a){return a.data},function(a){throw a.status+" : "+a.data})},f=function(b,d,e){var f;if(!c(b))throw"ukuran file tidak boleh melebihi 10MB dan harus dalam format gambar";return f=new FormData,f.append("file",b),a({method:"POST",url:d,params:e,data:f,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(a){return a.data},function(a){throw a.status+" : "+a.data})};return{uploadFile:e,uploadImage:f}}]),form.directive("uiFileModel",["$parse","$log",function(a,b){return{restrict:"A",link:function(b,c,d){var e=a(d.uiFileModel),f=e.assign;c.bind("change",function(){var a=c[0].files[0];b.$apply(function(){f(b,a)})})}}}]);var KEYS={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,comma:188},MAX_SAFE_INTEGER=9007199254740991,SUPPORTED_INPUT_TYPES=["text","email","url"],form=angular.module("lussa.ui.form.tag",[]),partials={tagsInput:'<div class="host"tabindex="-1"ng-click="eventHandlers.host.click()"ti-transclude-append=""><div class="tags" ng-class="{focused: hasFocus}">    <ul class="tag-list">        <li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)"            ng-class="{ selected: tag == tagList.selected }">            <span ng-bind="getDisplayText(tag)"></span>            <a class="remove-button icon icon-android-remove-circle"                ng-click="tagList.remove($index)" ></a>        </li>    </ul>   <input class="input" ng-model="newTag.text"        ng-change="eventHandlers.input.change(newTag.text)"        ng-keydown="eventHandlers.input.keydown($event)"        ng-focus="eventHandlers.input.focus($event)"        ng-blur="eventHandlers.input.blur($event)"        ng-paste="eventHandlers.input.paste($event)"        ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}"        ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}"        ti-autosize=""></div></div>',tagsAutoComplete:'<div class="tags-auto-complete" ng-show="suggestionList.visible"><ul class="suggestion-list">    <li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)"        ng-class="{selected: item == suggestionList.selected}"        ng-click="addSuggestionByIndex($index)"        ng-mouseenter="suggestionList.select($index)"        ng-bind-html="highlight(item)">    </li></ul></div>'};form.directive("tagsInput",["$timeout","$document","tagsInputConfig","tiUtil",function(a,b,c,d){function e(a,b){var c,e,f,g={};return c=function(b){return d.safeToString(b[a.displayProperty])},e=function(b,c){b[a.displayProperty]=c},f=function(b){var e=c(b);return e&&e.length>=a.minLength&&e.length<=a.maxLength&&a.allowedTagsPattern.test(e)&&!d.findInObjectArray(g.items,b,a.displayProperty)},g.items=[],g.addText=function(a){var b={};return e(b,a),g.add(b)},g.add=function(d){var h=c(d);return a.replaceSpacesWithDashes&&(h=h.replace(/\s/g,"-")),e(d,h),f(d)?(g.items.push(d),b.trigger("tag-added",{$tag:d})):h&&b.trigger("invalid-tag",{$tag:d}),d},g.remove=function(a){var c=g.items.splice(a,1)[0];return b.trigger("tag-removed",{$tag:c}),c},g.removeLast=function(){var b,c=g.items.length-1;return a.enableEditingLastTag||g.selected?(g.selected=null,b=g.remove(c)):g.selected||(g.selected=g.items[c]),b},g}function f(a){return-1!==SUPPORTED_INPUT_TYPES.indexOf(a)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",onTagAdded:"&",onInvalidTag:"&",onTagRemoved:"&"},replace:!1,transclude:!0,template:partials.tagsInput,controller:["$scope","$attrs","$element",function(a,b,g){a.events=d.simplePubSub(),c.load("tagsInput",a,b,{type:[String,"text",f],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,MAX_SAFE_INTEGER],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,MAX_SAFE_INTEGER],displayProperty:[String,"text"],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),a.tagList=new e(a.options,a.events),setTimeout(function(){},10),this.registerAutocomplete=function(){var b=g.find("input");return{addTag:function(b){return a.tagList.add(b)},focusInput:function(){b[0].focus()},getTags:function(){return a.tags},getCurrentTagText:function(){return a.newTag.text},getOptions:function(){return a.options},on:function(b,c){return a.events.on(b,c),this}}}}],link:function(c,e,f,g){var h,i=[KEYS.enter,KEYS.comma,KEYS.space,KEYS.backspace],j=c.tagList,k=c.events,l=c.options,m=e.find("input"),n=["minTags","maxTags","allowLeftoverText"];h=function(){g.$setValidity("maxTags",c.tags.length<=l.maxTags),g.$setValidity("minTags",c.tags.length>=l.minTags),g.$setValidity("leftoverText",l.allowLeftoverText?!0:!c.newTag.text)},c.newTag={text:"",invalid:null,setText:function(a){this.text=a,k.trigger("input-change",a)}},c.getDisplayText=function(a){return d.safeToString(a[l.displayProperty])},c.track=function(a){return a[l.displayProperty]},c.$watch("tags",function(a){c.tags=d.makeObjectArray(a,l.displayProperty),j.items=c.tags}),c.$watch("tags.length",function(){h()}),c.eventHandlers={input:{change:function(a){k.trigger("input-change",a)},keydown:function(a){k.trigger("input-keydown",a)},focus:function(){c.hasFocus||(c.hasFocus=!0,k.trigger("input-focus"))},blur:function(){a(function(){var a=b.prop("activeElement"),d=a===m[0],f=e[0].contains(a);(d||!f)&&(c.hasFocus=!1,k.trigger("input-blur"))})},paste:function(a){k.trigger("input-paste",a)}},host:{click:function(){m[0].focus()}}},k.on("tag-added",c.onTagAdded).on("invalid-tag",c.onInvalidTag).on("tag-removed",c.onTagRemoved).on("tag-added",function(){c.newTag.setText("")}).on("tag-added tag-removed",function(){g.$setViewValue(c.tags)}).on("invalid-tag",function(){c.newTag.invalid=!0}).on("option-change",function(a){-1!==n.indexOf(a.name)&&h()}).on("input-change",function(){j.selected=null,c.newTag.invalid=null}).on("input-focus",function(){e.triggerHandler("focus"),g.$setValidity("leftoverText",!0)}).on("input-blur",function(){l.addOnBlur&&!l.addFromAutocompleteOnly&&j.addText(c.newTag.text),e.triggerHandler("blur"),h();
}).on("input-keydown",function(a){var b,d,e=a.keyCode,f=a.shiftKey||a.altKey||a.ctrlKey||a.metaKey,g={};if(!f&&-1!==i.indexOf(e))if(g[KEYS.enter]=l.addOnEnter,g[KEYS.comma]=l.addOnComma,g[KEYS.space]=l.addOnSpace,b=!l.addFromAutocompleteOnly&&g[e],d=!b&&e===KEYS.backspace&&0===c.newTag.text.length,b)j.addText(c.newTag.text),a.preventDefault();else if(d){var h=j.removeLast();h&&l.enableEditingLastTag&&c.newTag.setText(h[l.displayProperty]),a.preventDefault()}}).on("input-paste",function(a){if(l.addOnPaste){var b=a.clipboardData.getData("text/plain"),c=b.split(l.pasteSplitPattern);c.length>1&&(c.forEach(function(a){j.addText(a)}),a.preventDefault())}})}}}]),form.directive("tagsAutoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(a,b,c,d,e,f){function g(a,b){var c,e,g={};return c=function(a,c){return a.filter(function(a){return!f.findInObjectArray(c,a,b.tagsInput.displayProperty)})},g.reset=function(){e=null,g.items=[],g.visible=!1,g.index=-1,g.selected=null,g.query=null},g.show=function(){b.selectFirstMatch?g.select(0):g.selected=null,g.visible=!0},g.load=f.debounce(function(h,i){g.query=h;var j=d.when(a({$query:h}));e=j,j.then(function(a){j===e&&(a=f.makeObjectArray(a.data||a,b.tagsInput.displayProperty),a=c(a,i),g.items=a.slice(0,b.maxResultsToShow),g.items.length>0?g.show():g.reset())})},b.debounceDelay),g.selectNext=function(){g.select(++g.index)},g.selectPrior=function(){g.select(--g.index)},g.select=function(a){0>a?a=g.items.length-1:a>=g.items.length&&(a=0),g.index=a,g.selected=g.items[a]},g.reset(),g}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},template:partials.tagsAutoComplete,link:function(a,b,d,h){var i,j,k,l,m,n,o=[KEYS.enter,KEYS.tab,KEYS.escape,KEYS.up,KEYS.down];e.load("tagsAutoComplete",a,d,{debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0]}),k=a.options,j=h.registerAutocomplete(),k.tagsInput=j.getOptions(),i=new g(a.source,k),l=function(a){return a[k.tagsInput.displayProperty]},m=function(a){return f.safeToString(l(a))},n=function(a){return a&&a.length>=k.minLength||!a&&k.loadOnEmpty},a.suggestionList=i,a.addSuggestionByIndex=function(b){i.select(b),a.addSuggestion()},a.addSuggestion=function(){var a=!1;return i.selected&&(j.addTag(i.selected),i.reset(),j.focusInput(),a=!0),a},a.highlight=function(a){var b=m(a);return b=f.encodeHTML(b),k.highlightMatchedText&&(b=f.safeHighlight(b,f.encodeHTML(i.query))),c.trustAsHtml(b)},a.track=function(a){return l(a)},j.on("tag-added invalid-tag input-blur",function(){i.reset()}).on("input-change",function(a){n(a)?i.load(a,j.getTags()):i.reset()}).on("input-focus",function(){var a=j.getCurrentTagText();k.loadOnFocus&&n(a)&&i.load(a,j.getTags())}).on("input-keydown",function(b){var c=b.keyCode,d=!1;if(-1!==o.indexOf(c))return i.visible?c===KEYS.down?(i.selectNext(),d=!0):c===KEYS.up?(i.selectPrior(),d=!0):c===KEYS.escape?(i.reset(),d=!0):(c===KEYS.enter||c===KEYS.tab)&&(d=a.addSuggestion()):c===KEYS.down&&a.options.loadOnDownArrow&&(i.load(j.getCurrentTagText(),j.getTags()),d=!0),d?(b.preventDefault(),b.stopImmediatePropagation(),!1):void 0})}}}]),form.directive("tiTranscludeAppend",function(){return function(a,b,c,d,e){e(function(a){b.append(a)})}}),form.directive("tiAutosize",["tagsInputConfig",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f,g,h=a.getTextAutosizeThreshold();f=angular.element('<span class="input"></span>'),f.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),c.parent().append(f),g=function(a){var b,e=a;return angular.isString(e)&&0===e.length&&(e=d.placeholder),e&&(f.text(e),f.css("display",""),b=f.prop("offsetWidth"),f.css("display","none")),c.css("width",b?b+h+"px":""),a},e.$parsers.unshift(g),e.$formatters.unshift(g),d.$observe("placeholder",function(a){e.$modelValue||g(a)})}}}]),form.directive("tiBindAttrs",function(){return function(a,b,c){a.$watch(c.tiBindAttrs,function(a){angular.forEach(a,function(a,b){c.$set(b,a)})},!0)}}),form.provider("tagsInputConfig",function(){var a={},b={},c=3;this.setDefaults=function(b,c){return a[b]=c,this},this.setActiveInterpolation=function(a,c){return b[a]=c,this},this.setTextAutosizeThreshold=function(a){return c=a,this},this.$get=["$interpolate",function(d){var e={};return e[String]=function(a){return a},e[Number]=function(a){return parseInt(a,10)},e[Boolean]=function(a){return"true"===a.toLowerCase()},e[RegExp]=function(a){return new RegExp(a)},{load:function(c,f,g,h){var i=function(){return!0};f.options={},angular.forEach(h,function(h,j){var k,l,m,n,o,p;k=h[0],l=h[1],m=h[2]||i,n=e[k],o=function(){var b=a[c]&&a[c][j];return angular.isDefined(b)?b:l},p=function(a){f.options[j]=a&&m(a)?n(a):o()},b[c]&&b[c][j]?g.$observe(j,function(a){p(a),f.events.trigger("option-change",{name:j,newValue:a})}):p(g[j]&&d(g[j])(f.$parent))})},getTextAutosizeThreshold:function(){return c}}}]}),form.factory("tiUtil",["$timeout",function(a){var b={};return b.debounce=function(b,c){var d;return function(){var e=arguments;a.cancel(d),d=a(function(){b.apply(null,e)},c)}},b.makeObjectArray=function(a,b){return a=a||[],a.length>0&&!angular.isObject(a[0])&&a.forEach(function(c,d){a[d]={},a[d][b]=c}),a},b.findInObjectArray=function(a,c,d){for(var e=null,f=0;f<a.length;f++)if(b.safeToString(a[f][d]).toLowerCase()===b.safeToString(c[d]).toLowerCase()){e=a[f];break}return e},b.safeHighlight=function(a,b){function c(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!b)return a;var d=new RegExp("&[^;]+;|"+c(b),"gi");return a.replace(d,function(a){return a===b?"<em>"+b+"</em>":a})},b.safeToString=function(a){return angular.isUndefined(a)||null===a?"":a.toString().trim()},b.encodeHTML=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},b.simplePubSub=function(){var a={};return{on:function(b,c){return b.split(" ").forEach(function(b){a[b]||(a[b]=[]),a[b].push(c)}),this},trigger:function(b,c){var d=a[b]||[];return d.every(function(a){var b=a.call(null,c);return angular.isUndefined(b)||b}),this}}},b}]);var form=angular.module("lussa.ui.form.validation",[]);form.directive("uiMatch",["$parse","$log",function(a,b){return{require:"?ngModel",restrict:"A",link:function(b,c,d,e){if(e&&d.uiMatch){var f=a(d.uiMatch),g=function(a){var c=f(b),d=a===c;return e.$setValidity("match",d),a};e.$parsers.unshift(g),e.$formatters.push(g),d.$observe("ngMatch",function(){g(e.$viewValue)})}}}}]);var LoadingBar=angular.module("lussa.ui.loadingBar",[]);LoadingBar.config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","loadingBar",function(b,c,d,e,f){function g(){d.cancel(i),f.complete(),k=0,j=0}function h(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d?void 0!==d.get(b.url):!1;return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var i,j=0,k=0,l=f.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||h(a)||(e.$broadcast("loadingBar:loading",{url:a.url}),0===j&&(i=d(function(){f.start()},l)),j++,f.set(k/j)),a},response:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("loadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),a},responseError:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("loadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),b.reject(a)}}}];a.interceptors.push(b)}]),LoadingBar.provider("loadingBar",function(){this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){k||(k=a.get("$animate"));var e=b.find(n);c.cancel(m),q||(d.$broadcast("loadingBar:started"),q=!0,k.enter(o,e),f(s))}function f(a){if(q){var b=100*a+"%";p.css("width",b),r=a,c.cancel(l),l=c(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return r}function i(){r=0,q=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("loadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i)},500)}var k,l,m,n=this.parentSelector,o=angular.element("<div class=progress-container><div class='progress-bar'>&nbsp;</div></div>"),p=o.find(".progress-bar"),q=!1,r=0,s=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]});var LussaUi=angular.module("lussa.ui",["lussa.ui.form","lussa.ui.dropdown","lussa.ui.loadingBar","lussa.ui.toast","lussa.ui.pagination","lussa.ui.carousel","lussa.ui.collapse"]),pagination=angular.module("lussa.ui.pagination",[]);pagination.directive("paginationBar",["$log","$sce",function(a,b){var c=10,d='<nav><ul>	<!-- previous -->	<li ng-hide="previousPage() == false"><a ng-href="{{ path }}?page={{ previousPage() }}">		<span class="icon icon-ios-arrow-left pagination-icon-prev"></span>sebelumnya</a></li>	<!-- early segment -->	<li ng-hide="pages.early.length < 1" ng-repeat="page in pages.early">		<a ng-href="{{ path }}?page={{ page }}">{{page}}</a></li>	<li ng-hide="pages.early.length < 1" class="separator">...</li>	<!-- middle -->	<li ng-hide="pages.middle.length < 1" ng-repeat="page in pages.middle" ng-class="page == currentPage?\'active\':\'\'">		<a ng-href="{{ path }}?page={{ page }}">{{page}}</a></li>	<!-- last segment -->	<li ng-hide="pages.last.length < 1" class="separator">...</li>	<li ng-hide="pages.last.length < 1" ng-repeat="page in pages.last">		<a ng-href="{{ path }}?page={{ page }}">{{page}}</a></li>	<!-- next segment -->	<li ng-hide="nextPage() == false"><a ng-href="{{ path }}?page={{ nextPage() }}">selanjutnya		<span class="icon icon-ios-arrow-right pagination-icon-next"></span></a></li></ul></nav>';return{restrict:"E",scope:{currentPage:"@",itemPerPage:"@",totalItems:"@",path:"@"},template:d,link:function(a,b,d,e){var f={middle:5,tip:3};a.path=a.path||window.location.pathname,a.currentPage=a.currentPage||1,a.totalItems=a.totalItems||1,a.itemPerPage=a.itemPerPage||c,a.pages={early:[],middle:[],last:[]},a.nextPage=function(){return a.totalPages=Math.ceil(a.totalItems/a.itemPerPage)||1,parseInt(a.totalPages,10)===parseInt(a.currentPage,10)?!1:parseInt(a.currentPage,10)+1},a.previousPage=function(){return a.totalPages=Math.ceil(a.totalItems/a.itemPerPage)||1,1===parseInt(a.totalPages,10)?!1:parseInt(a.currentPage,10)-1};var g=function(a,b,c){var a=parseInt(a,10)||1,b=parseInt(b,10)||1,c=parseInt(c,10)||10,d=Math.ceil(b/c)||1,e=1,g=d,h=0,i={early:[],middle:[],last:[]};if(d>2*f.tip+f.middle){if(a>f.tip+f.middle+1){for(h=1;h<f.tip+1;h++)i.early.push(h);e=a-Math.floor((f.middle-1)/2)}if(a<d-(f.tip+f.middle+1)){for(h=d-f.tip+1;d+1>h;h++)i.last.push(h);g=a+Math.ceil((f.middle-1)/2)}}for(h=e;g+1>h;h++)i.middle.push(h);return i};a.pages=g(a.currentPage,a.totalItems,a.itemPerPage),a.$watch("currentPage",function(b,c){a.pages=g(a.currentPage,a.totalItems,a.itemPerPage)}),a.$watch("totalItems",function(b,c){a.pages=g(a.currentPage,a.totalItems,a.itemPerPage)}),a.$watch("itemPerPage",function(b,c){a.pages=g(a.currentPage,a.totalItems,a.itemPerPage)})}}}]);var toast=angular.module("lussa.ui.toast",["ngAnimate","ngSanitize"]);toast.provider("toast",[function(){var a=[],b=[],c={className:"info",dismissOnTimeout:!0,timeout:5e3,dismissButton:!0,dismissButtonHtml:"",dismissOnClick:!0,compileContent:!1,horizontalPosition:"right",verticalPosition:"top",maxNumber:0},d=function(b){for(var d=Math.floor(1e3*Math.random());a.indexOf(d)>-1;)d=Math.floor(1e3*Math.random());this.id=d,this.className=c.className,this.dismissOnTimeout=c.dismissOnTimeout,this.timeout=c.timeout,this.dismissButton=c.dismissButton,this.dismissButtonHtml=c.dismissButtonHtml,this.dismissOnClick=c.dismissOnClick,this.compileContent=c.compileContent,angular.extend(this,b)};this.configure=function(a){angular.extend(c,a)},this.$get=[function(){return{settings:c,messages:a,dismiss:function(c){if(c){for(var d=a.length-1;d>=0;d--)if(a[d].id===c)return a.splice(d,1),void b.splice(b.indexOf(c),1)}else{for(;a.length>0;)a.pop();b=[]}},create:function(e){c.maxNumber>0&&b.length>=c.maxNumber&&this.dismiss(b[0]),e="string"==typeof e?{content:e}:e;var f=new d(e);return"bottom"===c.verticalPosition?a.unshift(f):a.push(f),b.push(f.id),f.id}}}]}]),toast.directive("toast",["toast","$templateCache","$log",function(a,b,c){return{replace:!0,restrict:"EA",template:'<div class="toast toast--{{hPos}} toast--{{vPos}}"><ul class="toast__list"><toast-message ng-repeat="message in messages" message="message"><span ng-bind-html="message.content"></span></toast-message></ul></div>',compile:function(d,e){if(e.template){var f=b.get(e.template);f?d.replaceWith(f):c.warn("tarsius.toast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.")}return function(b){b.hPos=a.settings.horizontalPosition,b.vPos=a.settings.verticalPosition,b.messages=a.messages}}}}]),toast.directive("toastMessage",["$timeout","$compile","toast",function(a,b,c){return{replace:!0,transclude:!0,restrict:"EA",scope:{message:"="},controller:["$scope","toast",function(a,b){a.dismiss=function(){b.dismiss(a.message.id)}}],template:'<li class="toast__message"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><a role="link" class="close icon icon-close-round" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></a><span ng-if="!message.compileContent" ng-transclude></span></div></li>',link:function(d,e,f,g,h){if(d.message.compileContent){var i;h(d,function(a){i=a,e.children().append(i)}),a(function(){b(i.contents())(d.$parent,function(a){i.replaceWith(a)})},0)}d.message.dismissOnTimeout&&a(function(){c.dismiss(d.message.id)},d.message.timeout),d.message.dismissOnClick&&e.bind("click",function(){c.dismiss(d.message.id),d.$apply()})}}}]);