/*! lussa-ui 01-06-2016 */
"use strict";angular.module("lussa.ui.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(){for(;s.length;)s.shift()}function g(a){if(angular.isUndefined(p[a].index))return p[a];for(var b=0,c=p.length;c>b;++b)if(p[b].index===a)return p[b]}function h(c,d,g){t||(angular.extend(c,{direction:g,active:!0}),angular.extend(o.currentSlide||{},{direction:g,active:!1}),e.enabled(b)&&!a.$currentTransition&&c.$element&&o.slides.length>1&&(c.$element.data(q,c.direction),o.currentSlide&&o.currentSlide.$element&&o.currentSlide.$element.data(q,c.direction),a.$currentTransition=!0,e.on("addClass",c.$element,function(b,c){if("close"===c&&(a.$currentTransition=null,e.off("addClass",b),s.length)){var d=s.pop(),g=a.indexOfSlide(d),i=g>o.getCurrentIndex()?"next":"prev";f(),h(d,g,i)}})),o.currentSlide=c,r=d,k())}function i(){m&&(c.cancel(m),m=null)}function j(b){b.length||(a.$currentTransition=null,f())}function k(){i();var b=+a.interval;!isNaN(b)&&b>0&&(m=c(l,b))}function l(){var b=+a.interval;n&&!isNaN(b)&&b>0&&p.length?a.next():a.pause()}var m,n,o=this,p=o.slides=a.slides=[],q="ui-slideDirection",r=-1,s=[];o.currentSlide=null;var t=!1;o.addSlide=function(b,c){b.$element=c,p.push(b),1===p.length||b.active?(a.$currentTransition&&(a.$currentTransition=null),o.select(p[p.length-1]),1===p.length&&a.play()):b.active=!1},o.getCurrentIndex=function(){return o.currentSlide&&angular.isDefined(o.currentSlide.index)?+o.currentSlide.index:r},o.next=a.next=function(){var b=(o.getCurrentIndex()+1)%p.length;return 0===b&&a.noWrap()?void a.pause():o.select(g(b),"next")},o.prev=a.prev=function(){var b=o.getCurrentIndex()-1<0?p.length-1:o.getCurrentIndex()-1;return a.noWrap()&&b===p.length-1?void a.pause():o.select(g(b),"prev")},o.removeSlide=function(a){angular.isDefined(a.index)&&p.sort(function(a,b){return+a.index>+b.index});var b=s.indexOf(a);-1!==b&&s.splice(b,1);var c=p.indexOf(a);p.splice(c,1),d(function(){p.length>0&&a.active?o.select(c>=p.length?p[c-1]:p[c]):r>c&&r--}),0===p.length&&(o.currentSlide=null,f())},o.select=a.select=function(b,c){var d=a.indexOfSlide(b);void 0===c&&(c=d>o.getCurrentIndex()?"next":"prev"),b&&b!==o.currentSlide&&!a.$currentTransition?h(b,d,c):b&&b!==o.currentSlide&&a.$currentTransition&&s.push(b)},a.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:p.indexOf(a)},a.isActive=function(a){return o.currentSlide===a},a.pause=function(){a.noPause||(n=!1,i())},a.play=function(){n||(n=!0,k())},a.$on("$destroy",function(){t=!0,i()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",k),a.$watchCollection("slides",j)}]).directive("carousel",[function(){return{transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",template:'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">  <div class="carousel-inner" ng-transclude></div>  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">    <span aria-hidden="true" class="icon icon-chevron-left"></span>    <span class="sr-only">previous</span>  </a>  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">    <span aria-hidden="true" class="icon icon-chevron-right"></span>    <span class="sr-only">next</span>  </a>  <ol class="carousel-indicators" ng-show="slides.length > 1">    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>    </li>  </ol></div>',scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",transclude:!0,replace:!0,template:'<div ng-class="{    \'active\': active  }" class="item text-center" ng-transclude></div>',scope:{active:"=?",actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c="ui-slideDirection";return{beforeAddClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i+" "+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module("lussa.ui.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(b,c,d){function e(){c.removeClass("collapse").addClass("collapsing"),a.addClass(c,"in",{to:{height:c[0].scrollHeight+"px"}}).then(f)}function f(){c.removeClass("collapsing"),c.css({height:"auto"})}function g(){c.css({height:c[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),a.removeClass(c,"in",{to:{height:"0"}}).then(h)}function h(){c.css({height:"0"}),c.removeClass("collapsing"),c.addClass("collapse")}b.$watch(d.collapse,function(a){a?g():e()})}}}]);var dropDown=angular.module("lussa.ui.dropdown",[]);dropDown.directive("dropdown",["$log",function(a){var b=500,c="easeOutExpo";return{scope:{isOpen:"@",onOpen:"&",onClose:"&",openEasing:"@",openSpeed:"@",closeEasing:"@",closeSpeed:"@",toggleByHover:"@"},restrict:"AEC",link:function(a,d,e,f){function g(){i=!1,l.slideUp(m.open.speed,m.open.easing,function(){j.removeClass("open")}),a.onOpen(d)}function h(){i=!0,l.slideDown(m.close.speed,m.close.easing),j.addClass("open"),a.onClose(d)}var i=e.isOpen||!1,j=d,k=d.find(".dropdown-toggle, a:first, .button:first, button:first"),l=d.find(".dropdown-content, .dropdown-menu"),m={open:{speed:e.openSpeed||b,easing:e.openEasing||c},close:{speed:e.closeSpeed||b,easing:e.closeEasing||c}};i&&l.show(),e.toggleByHover?d.hoverIntent({over:function(){i||h()},out:function(){i&&g()},timeout:500}):k.on("click",function(a){i?g():h()})}}}]);var LussaUiForm=angular.module("lussa.ui.form",["lussa.ui.form.datePicker","lussa.ui.form.timePicker","lussa.ui.form.autoComplete","lussa.ui.form.fileUploader","lussa.ui.form.tag","lussa.ui.form.validation","lussa.ui.form.rating","lussa.ui.form.inputMask"]),form=angular.module("lussa.ui.form.autoComplete",[]);form.directive("autoComplete",["$q","$parse","$http","$sce","$timeout",function(a,b,c,d,e){var f=40,g=39,h=38,i=37,j=27,k=13,l=9,m=3,n=500,o=200,p="autocomplete-required",q="Pencarian..",r="Pencarian tidak ditemukan",s='<div class="auto-complete-container" ng-class="{\'auto-complete-dropdown-visible\': showDropdown}">    <input id="{{id}}_value" ng-model="searchStr"        ng-disabled="disableInput"        type="{{type}}"        placeholder="{{placeholder}}"        ng-focus="onFocusHandler()"        class="{{inputClass}}"        ng-focus="resetHideResults()"        ng-blur="hideResults($event)"        autocapitalize="off"        autocorrect="off"        autocomplete="off"        ng-change="inputChangeHandler(searchStr)"/>    <div id="{{id}}_dropdown" class="auto-complete-dropdown" ng-show="showDropdown">        <div class="auto-complete-searching" ng-show="searching" ng-bind="textSearching"></div>       <div class="auto-complete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>       <div class="auto-complete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)"            ng-class="{\'auto-complete-selected-row\': $index == currentIndex}">           <div ng-if="imageField" class="auto-complete-image-holder">                <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="auto-complete-image"/>                <div ng-if="!result.image && result.image != \'\'" class="auto-complete-image-default"></div>            </div>            <div class="auto-complete-title" ng-if="matchClass" ng-bind-html="result.title"></div>            <div class="auto-complete-title" ng-if="!matchClass">{{ result.title }}</div>            <div ng-if="matchClass && result.description && result.description != \'\'" class="auto-complete-description" ng-bind-html="result.description"></div>            <div ng-if="!matchClass && result.description && result.description != \'\'" class="auto-complete-description">{{result.description}}</div>        </div>    </div> </div>';return{restrict:"EA",require:"^?form",scope:{selectedObject:"=",disableInput:"=",initialValue:"@",localData:"=",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",id:"@",type:"@",placeholder:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"@",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&"},template:s,link:function(b,s,t,u){function v(a){return a.which?a.which:a.keyCode}function w(a){"function"==typeof b.selectedObject?b.selectedObject(a):b.selectedObject=a,C(a?!0:!1)}function x(a){return function(c){return b[a]?b[a](c):c}}function y(a){w({originalObject:a}),b.clearSelected&&(b.searchStr=null),Q()}function z(a){return b.titleField.split(",").map(function(b){return A(a,b)}).join(" ")}function A(a,b){var c,d;return b?(c=b.split("."),d=a,c.forEach(function(a){d=d[a]})):d=a,d}function B(a,c){var e,f,g;return g=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),a?(f=a.match(g),e=f?a.replace(g,'<span class="'+b.matchClass+'">'+f[0]+"</span>"):a,d.trustAsHtml(e)):void 0}function C(a){ba=b.searchStr,b.fieldRequired&&u&&u.$setValidity(aa,a)}function D(a){var c=v(a);c!==i&&c!==g&&(c===h||c===k?a.preventDefault():c===f?(a.preventDefault(),!b.showDropdown&&b.searchStr&&b.searchStr.length>=$&&(R(),b.searching=!0,U(b.searchStr))):c===j?(Q(),b.$apply(function(){Z.val(b.searchStr)})):(b.searchStr&&""!==b.searchStr?b.searchStr.length>=$&&(R(),_&&e.cancel(_),b.searching=!0,_=e(function(){U(b.searchStr)},b.pause)):b.showDropdown=!1,ba&&ba!==b.searchStr&&!b.clearSelected&&w(void 0)))}function E(a){!b.overrideSuggestions||b.selectedObject&&b.selectedObject.originalObject===b.searchStr||(a&&a.preventDefault(),y(b.searchStr))}function F(a){var b=getComputedStyle(a);return a.offsetHeight+parseInt(b.marginTop,10)+parseInt(b.marginBottom,10)}function G(){return da.getBoundingClientRect().top+parseInt(getComputedStyle(da).maxHeight,10)}function H(){return s[0].querySelectorAll(".auto-complete-row")[b.currentIndex]}function I(){return H().getBoundingClientRect().top-(da.getBoundingClientRect().top+parseInt(getComputedStyle(da).paddingTop,10))}function J(a){da.scrollTop=da.scrollTop+a}function K(){var a=b.results[b.currentIndex];Z.val(b.matchClass?z(a.originalObject):a.title)}function L(a){var c=v(a),d=null,e=null;c===k&&b.results?(b.currentIndex>=0&&b.currentIndex<b.results.length?(a.preventDefault(),b.selectResult(b.results[b.currentIndex])):(E(a),Q()),b.$apply()):c===f&&b.results?(a.preventDefault(),b.currentIndex+1<b.results.length&&b.showDropdown&&(b.$apply(function(){b.currentIndex++,K()}),ea&&(d=H(),G()<d.getBoundingClientRect().bottom&&J(F(d))))):c===h&&b.results?(a.preventDefault(),b.currentIndex>=1?(b.$apply(function(){b.currentIndex--,K()}),ea&&(e=I(),0>e&&J(e-1))):0===b.currentIndex&&b.$apply(function(){b.currentIndex=-1,Z.val(b.searchStr)})):c===l&&(b.results&&b.results.length>0&&b.showDropdown?-1===b.currentIndex&&b.overrideSuggestions?E():(-1===b.currentIndex&&(b.currentIndex=0),b.selectResult(b.results[b.currentIndex]),b.$digest()):b.searchStr&&b.searchStr.length>0&&E())}function M(a){return function(c,d,e,f){b.searching=!1,V(A(X(c),b.remoteUrlDataField),a)}}function N(a,c,d,e){0!==c&&(b.remoteUrlErrorCallback?b.remoteUrlErrorCallback(a,c,d,e):console&&console.error&&console.error("http error"))}function O(){ca&&ca.resolve()}function P(d){var e={},f=b.remoteUrl+encodeURIComponent(d);b.remoteUrlRequestFormatter&&(e={params:b.remoteUrlRequestFormatter(d)},f=b.remoteUrl),b.remoteUrlRequestWithCredentials&&(e.withCredentials=!0),O(),ca=a.defer(),e.timeout=ca.promise,c.get(f,e).success(M(d)).error(N)}function Q(){b.showDropdown=!1,b.results=[],da&&(da.scrollTop=0)}function R(){b.showDropdown=!0,b.currentIndex=-1,b.results=[]}function S(a){var c,d,e,f,g=b.searchFields.split(","),h=[];for(c=0;c<b.localData.length;c++){for(d=!1,e=0;e<g.length;e++)f=A(b.localData[c],g[e])||"",d=d||f.toLowerCase().indexOf(a.toLowerCase())>=0;d&&(h[h.length]=b.localData[c])}b.searching=!1,V(h,a)}function T(a,c,d){for(var e in c)if(c[e].toLowerCase()===d.toLowerCase())return void b.selectResult(a)}function U(a){!a||a.length<$||(b.localData?b.$apply(function(){S(a)}):P(a))}function V(a,c){var d,e,f,g,h,i;if(a&&a.length>0)for(b.results=[],d=0;d<a.length;d++)b.titleField&&""!==b.titleField&&(g=h=z(a[d])),e="",b.descriptionField&&(e=i=A(a[d],b.descriptionField)),f="",b.imageField&&(f=A(a[d],b.imageField)),b.matchClass&&(h=B(g,c),i=B(e,c)),b.results[b.results.length]={title:h,description:i,image:f,originalObject:a[d]},b.autoMatch&&T(b.results[b.results.length-1],{title:g,desc:e||""},b.searchStr);else b.results=[]}var W,X,Y,Z=s.find("input"),$=m,_=null,aa=p,ba=null,ca=null,da=s[0].querySelector(".auto-complete-dropdown"),ea=!1,fa=null;s.on("mousedown",function(a){fa=a.target.id}),b.currentIndex=null,b.searching=!1,b.searchStr=b.initialValue,Y=b.$watch("initialValue",function(a,c){a&&a.length>0&&(b.searchStr=b.initialValue,C(!0),Y())}),b.$on("auto-complete-alt:clearInput",function(a,c){c?b.id===c&&(b.searchStr=null,Q()):(b.searchStr=null,Q())}),b.onFocusHandler=function(){b.focusIn&&b.focusIn()},b.hideResults=function(a){fa===b.id+"_dropdown"?fa=null:(W=e(function(){Q(),b.$apply(function(){b.searchStr&&b.searchStr.length>0&&Z.val(b.searchStr)})},o),O(),b.focusOut&&b.focusOut(),b.overrideSuggestions&&b.searchStr&&b.searchStr.length>0&&-1===b.currentIndex&&E())},b.resetHideResults=function(){W&&e.cancel(W)},b.hoverRow=function(a){b.currentIndex=a},b.selectResult=function(a){b.matchClass&&(a.title=z(a.originalObject),a.description=A(a.originalObject,b.descriptionField)),b.clearSelected?b.searchStr=null:b.searchStr=a.title,w(a),Q()},b.inputChangeHandler=function(a){return a.length<$&&Q(),b.inputChanged&&(a=b.inputChanged(a)),a},b.fieldRequiredClass&&""!==b.fieldRequiredClass&&(aa=b.fieldRequiredClass),b.minlength&&""!==b.minlength&&($=b.minlength),b.pause||(b.pause=n),b.clearSelected||(b.clearSelected=!1),b.overrideSuggestions||(b.overrideSuggestions=!1),b.fieldRequired&&u&&C(b.initialValue?!0:!1),b.textSearching=t.textSearching?t.textSearching:q,b.textNoResults=t.textNoResults?t.textNoResults:r,Z.on("keydown",L),Z.on("keyup",D),X=x("remoteUrlResponseFormatter"),b.$on("$destroy",function(){C(!0)}),e(function(){var a=getComputedStyle(da);ea=a.maxHeight&&"auto"===a.overflowY})}}}]);var DatePicker=angular.module("lussa.ui.form.datePicker",[]);DatePicker.directive("datePicker",["$log","$document","$filter",function(a,b,c){function d(a,c,d,f){a.attrs=d,angular.element("body").on("click",function(b){var c=_.some(angular.element(b.target).parents(),function(a){return a.classList.contains("ui-date-picker")});!c&&a.showPicker===!0&&a.autohide&&a.hide(!0)}),f.$formatters.unshift(function(b){var c=h.formatDate(b,a.format);return b<a.startDate&&f.$setValidity("DATE-TOO-EARLY",!1),b>a.endDate&&f.$setValidity("DATE-TOO-LATE",!1),a.modelviewvalue=c,c}),f.$parsers.unshift(function(a){return"Hoops"}),a.moveMonth=function(b,c){if(!c)return b;var d,e,f=a.ngModel,g=f.getDate(),h=f.getMonth(),i=Math.abs(c);if(c=c>0?1:-1,1==i)e=-1===c?function(){return f.getMonth()==h}:function(){return f.getMonth()!=d},d=h+c,f.setMonth(d),(0>d||d>11)&&(d=(d+12)%12);else{for(var j=0;i>j;j++)f=a.moveMonth(f,c);d=f.getMonth(),f.setDate(g),e=function(){return d!=f.getMonth()}}for(;e();)f.setDate(--g),f.setMonth(d);return f},a.moveYear=function(b,c){return a.moveMonth(b,12*c)},a.showMode=function(b){b&&(a.viewMode=Math.max(0,Math.min(2,a.viewMode+b)),a.$apply(),a.updateNavArrows())},a.closest=function(a,b){for(var c=a;c[0];){for(var d=0;d<b.length;d++)if(b[d]===c[0].tagName)return c;c=c.parent()}},a.today=function(){var a=new Date,b=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);return b},a.setDate=function(b){b||(b=a.today()),a.$apply(function(){a.ngModel=b}),f.$setTouched(),a.autohide&&a.hide(!0),a.callback&&a.callback(b,a.pickerid)},a.updateNavArrows=function(){var b=a.viewDate,c=b.getFullYear(),d=b.getMonth();switch(a.viewMode){case 0:a.find(".prev").css(c<=a.startDate.getFullYear()&&d<=a.startDate.getMonth()?{visibility:"hidden"}:{visibility:"visible"}),a.find(".next").css(c>=a.endDate.getFullYear()&&d>=a.endDate.getMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:a.find(".prev").css(c<=a.startDate.getFullYear()?{visibility:"hidden"}:{visibility:"visible"}),a.find(".next").css(c>=a.endDate.getFullYear()?{visibility:"hidden"}:{visibility:"visible"})}},a.fillMonths=function(){for(var b="",c=0;12>c;)b+='<span class="picker month">'+e[a.language].monthsShort[c++]+"</span>";a.find(".datepicker-months td").html(b)},a.fill=function(){var b=a.viewDate.getFullYear(),c=a.viewDate.getMonth(),f=a.viewDate.getDate(),g=a.startDate.getFullYear(),i=a.startDate.getMonth(),j=a.endDate.getFullYear(),k=a.endDate.getMonth(),l=a.today();a.find(".datepicker-days th.date-switch").text(e[a.language].months[c]+" "+b),a.updateNavArrows(),a.fillMonths();var m=new Date(b,c-1,28,0,0,0,0),n=h.getDaysInMonth(m.getFullYear(),m.getMonth());m.setDate(n),m.setDate(n-(m.getDay()-a.weekStart+7)%7);var o=new Date(m.valueOf());o.setDate(o.getDate()+42),o=o.valueOf();for(var p,q,r=[];m.valueOf()<o;){if(p="picker",m.getDay()===a.weekStart&&(r.push("<tr>"),a.calendarWeeks)){var s=new Date(m.getFullYear(),m.getMonth(),m.getDate()-m.getDay()+10-(a.weekStart&&a.weekStart%7<5&&7)),t=new Date(s.getFullYear(),0,4),u=~~((s-t)/864e5/7+1.5);r.push('<td class="cw">'+u+"</td>")}m.valueOf()<a.startDate.valueOf()||m.valueOf()>a.endDate.valueOf()||-1!==a.dayoff.indexOf(m.getDay())?(p+=" disabled",q=!0):q=!1,m.getFullYear()<b||m.getFullYear()===b&&m.getMonth()<c?p+=" old":(m.getFullYear()>b||m.getFullYear()===b&&m.getMonth()>c)&&(p+=" new"),m===l&&(a.todayHighlight&&(p+=" today"),d.today&&(q?a.todayClass="disabled":a.todayClass="enable")),b===m.getFullYear()&&c===m.getMonth()&&f===m.getDate()&&(p+=" active"),r.push('<td class="day '+p+'">'+m.getDate()+"</td>"),m.getDay()===a.weekEnd&&r.push("</tr>"),m.setDate(m.getDate()+1)}a.find(".datepicker-days tbody").empty().append(r.join(""));var v=a.viewDate.getFullYear(),w=a.find(".datepicker-months");a.find("th.date-switch",w).text(b);var x=w.find("span",w);if(x.removeClass("active"),v&&v===b&&x.eq(a.viewDate.getMonth()).addClass("active"),(g>b||b>j)&&x.addClass("disabled"),b===g)for(var y=0;i>y;y++)x.eq(y).addClass("disabled");if(b===j)for(var y=k+1;y<x.length;y++)x.eq(y).addClass("disabled");r="",b=10*parseInt(b/10,10);var z=a.find(".datepicker-years");a.find("th.date-switch",z).text(b+"-"+(b+9)),z=z.find("td"),b-=1;for(var A=-1;11>A;A++)r+='<span class="picker year'+(-1===A||10===A?" old":"")+(v===b?" active":"")+(g>b||b>j?" disabled":"")+'">'+b+"</span>",b+=1;z.html(r)},a.place=function(){a.picker.css({zIndex:100,display:"block"})},a.update=function(){a.viewDate=new Date(a.ngModel||new Date),this.viewDate<this.startDate?this.viewDate=new Date(this.startDate.valueOf()):this.viewDate>this.endDate&&(this.viewDate=new Date(this.endDate.valueOf())),this.fill()},a.dateValueWithinRange=function(b){return b>=a.startDate&&b<=a.endDate},a.onclick=function(b){var c=angular.element(b);if(c.hasClass("datepicker-close"))return void a.hide(!0);var d=a.closest(c,["SPAN","TD","TH"]);if(d)switch(d[0].tagName){case"TH":if(d.hasClass("date-switch")&&a.showMode(1),d.hasClass("prev")||d.hasClass("next")){var e=h.modes[a.viewMode].navStep*(d.hasClass("prev")?-1:1);switch(a.viewMode){case 0:a.viewDate=a.moveMonth(a.viewDate,e);break;case 1:case 2:a.viewDate=a.moveYear(a.viewDate,e)}a.fill()}else if(d.hasClass("today")){a.setDate(),a.autohide&&a.hide(!0);break}break;case"SPAN":if(!d.hasClass("disabled")){if(d.hasClass("month")){for(var f=d.parent().find("span"),g=0;g<f.length;g++)if(d.text()===f.eq(g).text()){a.viewDate.setMonth(g);break}}else{var i=parseInt(d.text(),10)||0;a.viewDate.setFullYear(i)}a.showMode(-1),a.fill()}break;case"TD":if(d.hasClass("day")&&!d.hasClass("disabled")){var j=parseInt(d.text(),10)||1,i=a.viewDate.getFullYear(),k=a.viewDate.getMonth();d.hasClass("old")?0===k?(k=11,i-=1):k-=1:d.hasClass("new")&&(11===k?(k=0,i+=1):k+=1),a.setDate(new Date(i,k,j,0,0,0,0))}}},a.keydown=function(b){switch(b.keyCode){case 27:case 13:case 9:a.hide(!0)}},a.find=function(a,b){var d;d=b?b[0].querySelector(a):c[0].querySelector(a);var e=angular.element(d);return e},a.setStartDate=function(b){b?a.startDate=b:a.startDate=new Date(0,0,0)},a.setEndDate=function(b){b?a.endDate=b:a.endDate=new Date(3e3,0,0)},a.show=function(c){a.ngModel||(a.ngModel=new Date),a.update(),a.place(),a.viewMode=0,a.showPicker=!0,b.on("keydown",a.keydown),c&&a.$apply()},a.hide=function(c){a.showPicker=!1,a.picker.off("mousedown"),b.unbind("keydown",a.keydown),c&&a.$apply()},a.displayPicker=function(b){a.picker&&(a.showPicker||(a.bindevent(a.picker),a.show()))},a.bindevent=function(b){function c(b){b.preventDefault(),b.explicitOriginalTarget?a.onclick(b.explicitOriginalTarget):b.target?a.onclick(b.target):$(window).alert("Browser click event not supported [report a bug]")}b.on("mousedown",c)},a.init=function(){var b,f;if(a.dayoff=[],d.dayoff)for(var g=d.dayoff.split(","),h=0;h<g.length;h++)a.dayoff.push(parseInt(g[h]));if(a.pickerid=d.id||"date-picker-"+parseInt(1e3*Math.random()),a.language=d.language||a.locale||"id",a.autohide=d.autohide||!0,a.weekStart=d.weekstart||1,a.calendarWeeks=d.weeknum||!1,a.todayButton=d.today||!1,a.todayHighlight=d.highlight||!0,a.placeholder=d.placeholder||"",a.format=d.format||a.datefmt||"dd-MM-yyyy",a.locales=e[a.language],a.setStartDate(a.notBefore),a.setEndDate(a.notAfter),d.today&&"true"===a.todayButton.toLowerCase()&&(a.todayButton=a.locales.today),d.iconify&&(b=c.find("input"),f=c.find("label"),b.addClass("date-input-hidden"),f.addClass("date-input-hidden"),c.addClass("ui-iconified")),d.icon||d.iconify){var i=c.find("span");i.addClass("icon-label-input icon icon-calendar")}f=c.find("label"),d.label?f.html(d.label):(c.find(".date-display").removeClass("form-group"),f.remove()),a.$watch("notBefore",function(){a.setStartDate(a.notBefore),a.update(),a.updateNavArrows()}),a.$watch("notAfter",function(){a.setEndDate(a.notAfter),a.update(),a.updateNavArrows()}),a.picker=a.find("div .datepicker")},a.init()}var e={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",placeholder:"Select Date"},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Dec"],today:"Aujourd`hui",placeholder:"Date Selection"},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Deciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"},de:{months:["Januar","Februar","Marz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute"},nl:{months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag"},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],today:"Hari Ini"}},f={headTemplate:'<thead><tr><th class="prev"><i class="icon icon-ios-arrow-left"/></th><th colspan="5" class="date-switch"></th><th class="next"><i class="icon icon-ios-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot ng-show="todayButton"><tr><th colspan="7" class="today">{{todayButton}}</th></tr></tfoot>',headTemplateDays:'<thead><tr><th class="prev"><i class="icon icon-ios-arrow-left"/></th><th colspan="5" class="date-switch"></th><th class="next"><i class="icon icon-ios-arrow-right"/></th></tr></thead>',footTemplateDays:'<tfoot class="picker {{todayClass}}" ng-show="todayButton"><tr><th colspan="7" class="today">{{todayButton}}</th></tr></tfoot>'},g='<div class="ui-date-picker"> <div ng-click="displayPicker()" class="date-display form-group"><label for={{pickerid}} class="date-input-label"></label><input readonly id={{pickerid}} class="date-input form-control {{attrs.inputClass}}" placeholder="{{placeholder}}" value="{{modelviewvalue}}"><span class="date-input-icon"></span><div ng-show="showPicker" class="datepicker datepicker-dropdown"><div ng-show="viewMode === 0" class="datepicker-days"><table class=" table-condensed">'+f.headTemplateDays+"<tbody></tbody>"+f.footTemplateDays+'</table></div><div ng-show="viewMode === 1" class="datepicker-months"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div ng-show="viewMode === 2" class="datepicker-years"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><a class="button datepicker-close small alert right" style="width:auto;"><i class="icon icon-close"></i></a></div>',h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,h.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},formatDate:function(a,b,d){var e=c("date")(a,b,d);return e}};return{restrict:"E",scope:{datefmt:"=",locale:"=",ngModel:"=",notAfter:"=",notBefore:"=",callback:"="},template:g,require:"ngModel",replace:!0,link:d}}]);var form=angular.module("lussa.ui.form.fileUploader",[]);form.factory("FileUploaderFactory",["$http","$log",function(a,b){var c=function(a){return a.type.indexOf("image")>-1==!1||a.size>1e7?(b.error("ukuran file tidak boleh melebihi 10MB dan harus dalam format gambar"),!1):!0},d=function(a){return a.size>25e6?(b.error("ukuran file tidak boleh melebihi 25MB"),!1):!0},e=function(b,c){var e=new FormData;_.each(b,function(a){if(!d(a))throw"ukuran file tidak boleh melebihi 25MB";e.append("file",a)}),a.post(c,e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(a){return a.data},function(a){throw a.status+" : "+a.data})},f=function(b,d,e){var f;if(!c(b))throw"ukuran file tidak boleh melebihi 10MB dan harus dalam format gambar";return f=new FormData,f.append("file",b),a({method:"POST",url:d,params:e,data:f,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(a){return a.data},function(a){throw a.status+" : "+a.data})};return{uploadFile:e,uploadImage:f}}]),form.directive("uiFileModel",["$parse","$log",function(a,b){return{restrict:"A",link:function(b,c,d){var e=a(d.uiFileModel),f=e.assign;c.bind("change",function(){var a=c[0].files[0];b.$apply(function(){f(b,a)})})}}}]);var inputMask=angular.module("lussa.ui.form.inputMask",[]);inputMask.directive("mask",["$log","$timeout","MaskService",function(a,b,c){return{restrict:"A",require:"ngModel",compile:function(d,e){function f(a){"number"==typeof a&&(b.cancel(g),g=b(function(){var b=a+1,c=d[0];if(c.setSelectionRange)c.focus(),c.setSelectionRange(a,b);else if(c.createTextRange){var e=c.createTextRange();e.collapse(!0),e.moveEnd("character",b),e.moveStart("character",a),e.select()}}))}if(!e.mask||!e.ngModel)return void a.info("Mask and ng-model attributes are required!");var g,h,i=c.create();return{pre:function(a,b,c,d){h=i.generateRegex({mask:c.mask,repeat:c.repeat||c.maskRepeat,clean:"true"===(c.clean||c.maskClean),limit:"true"===(c.limit||c.maskLimit||"true"),restrict:c.restrict||c.maskRestrict||"select",validate:"true"===(c.validate||c.maskValidate||"true"),model:c.ngModel,value:c.ngValue})},post:function(c,d,e,g){h.then(function(){function h(b){b=b||"";var c=i.getViewValue(b),d=k.maskWithoutOptionals||"",e=c.withDivisors(!0),h=c.withoutDivisors(!0);try{var j=i.getRegex(e.length-1),l=i.getRegex(d.length-1),m=j.test(e)||l.test(e),n=b.length-e.length===1,o=d.length-e.length>0;if("accept"!==k.restrict)if("select"!==k.restrict||m&&!n)"reject"!==k.restrict||m||(c=i.removeWrongPositions(e),e=c.withDivisors(!0),h=c.withoutDivisors(!0));else{var p=b[b.length-1],q=e[e.length-1];p!==q&&o&&(e+=p);var r=i.getFirstWrongPosition(e);angular.isDefined(r)&&f(r)}k.limit||(e=c.withDivisors(!1),h=c.withoutDivisors(!1)),k.validate&&g.$dirty&&(l.test(e)||g.$isEmpty(g.$modelValue)?g.$setValidity("mask",!0):g.$setValidity("mask",!1)),b!==e&&(g.$setViewValue(angular.copy(e),"input"),g.$render())}catch(s){throw a.error("[mask - parseViewValue]"),s}return k.clean?h:e}var j,k=i.getOptions();g.$parsers.push(h),d.on("click input paste keyup",function(){j=b(function(){b.cancel(j),h(d.val()),c.$apply()},100)});var l=c.$watch(e.ngModel,function(a,b){angular.isDefined(a)&&(h(a),l())});k.value&&c.$evalAsync(function(a){g.$setViewValue(angular.copy(k.value),"input"),g.$render()})})}}}}}]),inputMask.factory("MaskService",["$q","MaskOptionalService","MaskUtilService",function(a,b,c){function d(){function d(a,b){var c,d,e,f;try{d=t[a],e=C[d],f=h(a),e?c="("+e.source+")":(i(a)||(z.push(a),A[a]=d),c="(\\"+d+")")}catch(g){throw g}return(f||b)&&(c+="?"),new RegExp(c)}function e(a,b){var c,f;try{var g=d(a,b);c=g;var i=h(a),j=g.source;if(i&&u>a+1){var k=e(a+1,!0).elementOptionalRegex();j+=k.source}f=new RegExp(j)}catch(l){throw l}return{elementRegex:function(){return c},elementOptionalRegex:function(){return f}}}function f(c){var d=a.defer();s=c;try{var f=c.mask,g=c.repeat;g&&(f=new Array(parseInt(g)+1).join(f)),w=b.getOptionals(f).fromMaskWithoutOptionals(),s.maskWithoutOptionals=t=b.removeOptionals(f),u=t.length;for(var h,i=0;u>i;i++){var l=e(i),m=l.elementRegex(),n=l.elementOptionalRegex(),o=h?h.source+n.source:n.source;o=new RegExp(o),h=h?h.source+m.source:m.source,h=new RegExp(h),B.push(o)}j(),v=k(t).length,d.resolve({options:s,divisors:z,divisorElements:A,optionalIndexes:w,optionalDivisors:x,optionalDivisorsCombinations:y})}catch(p){throw d.reject(p),p}return d.promise}function g(a){var b;try{b=B[a]?B[a].source:""}catch(c){throw c}return new RegExp("^"+b+"$")}function h(a){return c.inArray(a,w)}function i(a){return c.inArray(a,z)}function j(){function a(a,b){return a-b}for(var b=z.sort(a),c=w.sort(a),d=0;d<b.length;d++)for(var e=b[d],f=1;f<=c.length;f++){var g=c[f-1];if(g>=e)break;x[e]?x[e]=x[e].concat(e-f):x[e]=[e-f],A[e-f]=A[e]}}function k(a){try{if(z.length>0&&a){for(var b=Object.keys(A),d=[],e=b.length-1;e>=0;e--){var f=A[b[e]];f&&d.push(f)}d=c.uniqueArray(d);var g=new RegExp("[\\"+d.join("\\")+"]","g");return a.replace(g,"")}return a}catch(h){throw h}}function l(a,b){function d(a,b){for(var c=b,d=0;d<a.length;d++){var e=a[d];e<c.length&&c.splice(e,0,A[e])}return c}var e=a,f=z.filter(function(a){var d=Object.keys(x).map(function(a){return parseInt(a)});return!c.inArray(a,b)&&!c.inArray(a,d)});return angular.isArray(a)&&angular.isArray(b)?(e=d(f,e),e=d(b,e)):e}function m(a){var b=a.split(""),d=!0;if(w.length>0){for(var e=[],f=Object.keys(x),h=0;h<f.length;h++){var i=x[f[h]];
e.push(i)}0===y.length&&c.lazyProduct(e,function(){y.push(Array.prototype.slice.call(arguments))});for(var h=y.length-1;h>=0;h--){var j=angular.copy(b);j=l(j,y[h]);var k=j.join(""),m=g(t.length-1);if(m.test(k)){d=!1,b=j;break}}}return d&&(b=l(b,z)),b.join("")}function n(){return s}function o(a){try{var b=k(a),c=m(b);return{withDivisors:function(a){return a?c.substr(0,u):c},withoutDivisors:function(a){return a?b.substr(0,v):b}}}catch(d){throw d}}function p(a,b){var c=[];if(!a)return 0;for(var d=0;d<a.length;d++){var e=g(d),f=a.substr(0,d+1);if(e&&!e.test(f)&&(c.push(d),b))break}return c}function q(a){return p(a,!0)[0]}function r(a){var b=p(a,!1),c=a;for(var d in b){var e=b[d],f=a.split("");f.splice(e,1),c=f.join("")}return o(c)}var s,t,u=0,v=0,w=[],x={},y=[],z=[],A={},B=[],C={9:/[0-9]/,8:/[0-8]/,7:/[0-7]/,6:/[0-6]/,5:/[0-5]/,4:/[0-4]/,3:/[0-3]/,2:/[0-2]/,1:/[0-1]/,0:/[0]/,"*":/./,w:/\w/,W:/\W/,d:/\d/,D:/\D/,s:/\s/,S:/\S/,b:/\b/,A:/[A-Z]/,a:/[a-z]/,Z:/[A-ZÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,z:/[a-zçáàãâéèêẽíìĩîóòôõúùũüû]/,"@":/[a-zA-Z]/,"#":/[a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/,"%":/[0-9a-zA-ZçáàãâéèêẽíìĩîóòôõúùũüûÇÀÁÂÃÈÉÊẼÌÍÎĨÒÓÔÕÙÚÛŨ]/};return{getViewValue:o,generateRegex:f,getRegex:g,getOptions:n,removeDivisors:k,getFirstWrongPosition:q,removeWrongPositions:r}}return{create:d}}]),inputMask.factory("MaskOptionalService",[function(){function a(a){var c=[];try{for(var d=/\?/g,e=[];null!==(e=d.exec(a));)c.push(e.index-1)}catch(f){throw f}return{fromMask:function(){return c},fromMaskWithoutOptionals:function(){return b(c)}}}function b(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]-c);return b}function c(a){var b;try{b=a.replace(/\?/g,"")}catch(c){throw c}return b}return{removeOptionals:c,getOptionals:a}}]),inputMask.factory("MaskUtilService",[function(){function a(b,c,d){function e(a){var i=b[a],j=h[a];if(a===g)for(var k=0;j>k;++k)f[a]=i[k],c.apply(d,f);else for(var k=0;j>k;++k)f[a]=i[k],e(a+1);f.pop()}d||(d=a);for(var f=[],g=b.length-1,h=[],i=b.length;i--;)h[i]=b[i].length;e(0)}function b(a,b){var c;try{c=b.indexOf(a)>-1}catch(d){throw d}return c}function c(a){for(var b={},c=[],d=0,e=a.length;e>d;++d)b.hasOwnProperty(a[d])||(c.push(a[d]),b[a[d]]=1);return c}return{lazyProduct:a,inArray:b,uniqueArray:c}}]),angular.module("lussa.ui.form.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",template:'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="icon" ng-class="$index < value && (r.stateOn || \'icon-android-star\') || (r.stateOff || \'icon-android-star-outline\')">        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>    </i></span>',replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}});var KEYS={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,comma:188},MAX_SAFE_INTEGER=9007199254740991,SUPPORTED_INPUT_TYPES=["text","email","url"],form=angular.module("lussa.ui.form.tag",[]),partials={tagsInput:'<div class="host"tabindex="-1"ng-click="eventHandlers.host.click()"ti-transclude-append=""><div class="tags" ng-class="{focused: hasFocus}">    <ul class="tag-list">        <li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)"            ng-class="{ selected: tag == tagList.selected }">            <span ng-bind="getDisplayText(tag)"></span>            <a class="remove-button icon icon-android-remove-circle"                ng-click="tagList.remove($index)" ></a>        </li>    </ul>   <input class="input" ng-model="newTag.text"        ng-change="eventHandlers.input.change(newTag.text)"        ng-keydown="eventHandlers.input.keydown($event)"        ng-focus="eventHandlers.input.focus($event)"        ng-blur="eventHandlers.input.blur($event)"        ng-paste="eventHandlers.input.paste($event)"        ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}"        ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}"        ti-autosize=""></div></div>',tagsAutoComplete:'<div class="tags-auto-complete" ng-show="suggestionList.visible"><ul class="suggestion-list">    <li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)"        ng-class="{selected: item == suggestionList.selected}"        ng-click="addSuggestionByIndex($index)"        ng-mouseenter="suggestionList.select($index)"        ng-bind-html="highlight(item)">    </li></ul></div>'};form.directive("tagsInput",["$timeout","$document","tagsInputConfig","tiUtil",function(a,b,c,d){function e(a,b){var c,e,f,g={};return c=function(b){return d.safeToString(b[a.displayProperty])},e=function(b,c){b[a.displayProperty]=c},f=function(b){var e=c(b);return e&&e.length>=a.minLength&&e.length<=a.maxLength&&a.allowedTagsPattern.test(e)&&!d.findInObjectArray(g.items,b,a.displayProperty)},g.items=[],g.addText=function(a){var b={};return e(b,a),g.add(b)},g.add=function(d){var h=c(d);return a.replaceSpacesWithDashes&&(h=h.replace(/\s/g,"-")),e(d,h),f(d)?(g.items.push(d),b.trigger("tag-added",{$tag:d})):h&&b.trigger("invalid-tag",{$tag:d}),d},g.remove=function(a){var c=g.items.splice(a,1)[0];return b.trigger("tag-removed",{$tag:c}),c},g.removeLast=function(){var b,c=g.items.length-1;return a.enableEditingLastTag||g.selected?(g.selected=null,b=g.remove(c)):g.selected||(g.selected=g.items[c]),b},g}function f(a){return-1!==SUPPORTED_INPUT_TYPES.indexOf(a)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",onTagAdded:"&",onInvalidTag:"&",onTagRemoved:"&"},replace:!1,transclude:!0,template:partials.tagsInput,controller:["$scope","$attrs","$element",function(a,b,g){a.events=d.simplePubSub(),c.load("tagsInput",a,b,{type:[String,"text",f],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,MAX_SAFE_INTEGER],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,MAX_SAFE_INTEGER],displayProperty:[String,"text"],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),a.tagList=new e(a.options,a.events),setTimeout(function(){},10),this.registerAutocomplete=function(){var b=g.find("input");return{addTag:function(b){return a.tagList.add(b)},focusInput:function(){b[0].focus()},getTags:function(){return a.tags},getCurrentTagText:function(){return a.newTag.text},getOptions:function(){return a.options},on:function(b,c){return a.events.on(b,c),this}}}}],link:function(c,e,f,g){var h,i=[KEYS.enter,KEYS.comma,KEYS.space,KEYS.backspace],j=c.tagList,k=c.events,l=c.options,m=e.find("input"),n=["minTags","maxTags","allowLeftoverText"];h=function(){g.$setValidity("maxTags",c.tags.length<=l.maxTags),g.$setValidity("minTags",c.tags.length>=l.minTags),g.$setValidity("leftoverText",l.allowLeftoverText?!0:!c.newTag.text)},c.newTag={text:"",invalid:null,setText:function(a){this.text=a,k.trigger("input-change",a)}},c.getDisplayText=function(a){return d.safeToString(a[l.displayProperty])},c.track=function(a){return a[l.displayProperty]},c.$watch("tags",function(a){c.tags=d.makeObjectArray(a,l.displayProperty),j.items=c.tags}),c.$watch("tags.length",function(){h()}),c.eventHandlers={input:{change:function(a){k.trigger("input-change",a)},keydown:function(a){k.trigger("input-keydown",a)},focus:function(){c.hasFocus||(c.hasFocus=!0,k.trigger("input-focus"))},blur:function(){a(function(){var a=b.prop("activeElement"),d=a===m[0],f=e[0].contains(a);(d||!f)&&(c.hasFocus=!1,k.trigger("input-blur"))})},paste:function(a){k.trigger("input-paste",a)}},host:{click:function(){m[0].focus()}}},k.on("tag-added",c.onTagAdded).on("invalid-tag",c.onInvalidTag).on("tag-removed",c.onTagRemoved).on("tag-added",function(){c.newTag.setText("")}).on("tag-added tag-removed",function(){g.$setViewValue(c.tags)}).on("invalid-tag",function(){c.newTag.invalid=!0}).on("option-change",function(a){-1!==n.indexOf(a.name)&&h()}).on("input-change",function(){j.selected=null,c.newTag.invalid=null}).on("input-focus",function(){e.triggerHandler("focus"),g.$setValidity("leftoverText",!0)}).on("input-blur",function(){l.addOnBlur&&!l.addFromAutocompleteOnly&&j.addText(c.newTag.text),e.triggerHandler("blur"),h()}).on("input-keydown",function(a){var b,d,e=a.keyCode,f=a.shiftKey||a.altKey||a.ctrlKey||a.metaKey,g={};if(!f&&-1!==i.indexOf(e))if(g[KEYS.enter]=l.addOnEnter,g[KEYS.comma]=l.addOnComma,g[KEYS.space]=l.addOnSpace,b=!l.addFromAutocompleteOnly&&g[e],d=!b&&e===KEYS.backspace&&0===c.newTag.text.length,b)j.addText(c.newTag.text),a.preventDefault();else if(d){var h=j.removeLast();h&&l.enableEditingLastTag&&c.newTag.setText(h[l.displayProperty]),a.preventDefault()}}).on("input-paste",function(a){if(l.addOnPaste){var b=a.clipboardData.getData("text/plain"),c=b.split(l.pasteSplitPattern);c.length>1&&(c.forEach(function(a){j.addText(a)}),a.preventDefault())}})}}}]),form.directive("tagsAutoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(a,b,c,d,e,f){function g(a,b){var c,e,g={};return c=function(a,c){return a.filter(function(a){return!f.findInObjectArray(c,a,b.tagsInput.displayProperty)})},g.reset=function(){e=null,g.items=[],g.visible=!1,g.index=-1,g.selected=null,g.query=null},g.show=function(){b.selectFirstMatch?g.select(0):g.selected=null,g.visible=!0},g.load=f.debounce(function(h,i){g.query=h;var j=d.when(a({$query:h}));e=j,j.then(function(a){j===e&&(a=f.makeObjectArray(a.data||a,b.tagsInput.displayProperty),a=c(a,i),g.items=a.slice(0,b.maxResultsToShow),g.items.length>0?g.show():g.reset())})},b.debounceDelay),g.selectNext=function(){g.select(++g.index)},g.selectPrior=function(){g.select(--g.index)},g.select=function(a){0>a?a=g.items.length-1:a>=g.items.length&&(a=0),g.index=a,g.selected=g.items[a]},g.reset(),g}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},template:partials.tagsAutoComplete,link:function(a,b,d,h){var i,j,k,l,m,n,o=[KEYS.enter,KEYS.tab,KEYS.escape,KEYS.up,KEYS.down];e.load("tagsAutoComplete",a,d,{debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0]}),k=a.options,j=h.registerAutocomplete(),k.tagsInput=j.getOptions(),i=new g(a.source,k),l=function(a){return a[k.tagsInput.displayProperty]},m=function(a){return f.safeToString(l(a))},n=function(a){return a&&a.length>=k.minLength||!a&&k.loadOnEmpty},a.suggestionList=i,a.addSuggestionByIndex=function(b){i.select(b),a.addSuggestion()},a.addSuggestion=function(){var a=!1;return i.selected&&(j.addTag(i.selected),i.reset(),j.focusInput(),a=!0),a},a.highlight=function(a){var b=m(a);return b=f.encodeHTML(b),k.highlightMatchedText&&(b=f.safeHighlight(b,f.encodeHTML(i.query))),c.trustAsHtml(b)},a.track=function(a){return l(a)},j.on("tag-added invalid-tag input-blur",function(){i.reset()}).on("input-change",function(a){n(a)?i.load(a,j.getTags()):i.reset()}).on("input-focus",function(){var a=j.getCurrentTagText();k.loadOnFocus&&n(a)&&i.load(a,j.getTags())}).on("input-keydown",function(b){var c=b.keyCode,d=!1;if(-1!==o.indexOf(c))return i.visible?c===KEYS.down?(i.selectNext(),d=!0):c===KEYS.up?(i.selectPrior(),d=!0):c===KEYS.escape?(i.reset(),d=!0):(c===KEYS.enter||c===KEYS.tab)&&(d=a.addSuggestion()):c===KEYS.down&&a.options.loadOnDownArrow&&(i.load(j.getCurrentTagText(),j.getTags()),d=!0),d?(b.preventDefault(),b.stopImmediatePropagation(),!1):void 0})}}}]),form.directive("tiTranscludeAppend",function(){return function(a,b,c,d,e){e(function(a){b.append(a)})}}),form.directive("tiAutosize",["tagsInputConfig",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f,g,h=a.getTextAutosizeThreshold();f=angular.element('<span class="input"></span>'),f.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),c.parent().append(f),g=function(a){var b,e=a;return angular.isString(e)&&0===e.length&&(e=d.placeholder),e&&(f.text(e),f.css("display",""),b=f.prop("offsetWidth"),f.css("display","none")),c.css("width",b?b+h+"px":""),a},e.$parsers.unshift(g),e.$formatters.unshift(g),d.$observe("placeholder",function(a){e.$modelValue||g(a)})}}}]),form.directive("tiBindAttrs",function(){return function(a,b,c){a.$watch(c.tiBindAttrs,function(a){angular.forEach(a,function(a,b){c.$set(b,a)})},!0)}}),form.provider("tagsInputConfig",function(){var a={},b={},c=3;this.setDefaults=function(b,c){return a[b]=c,this},this.setActiveInterpolation=function(a,c){return b[a]=c,this},this.setTextAutosizeThreshold=function(a){return c=a,this},this.$get=["$interpolate",function(d){var e={};return e[String]=function(a){return a},e[Number]=function(a){return parseInt(a,10)},e[Boolean]=function(a){return"true"===a.toLowerCase()},e[RegExp]=function(a){return new RegExp(a)},{load:function(c,f,g,h){var i=function(){return!0};f.options={},angular.forEach(h,function(h,j){var k,l,m,n,o,p;k=h[0],l=h[1],m=h[2]||i,n=e[k],o=function(){var b=a[c]&&a[c][j];return angular.isDefined(b)?b:l},p=function(a){f.options[j]=a&&m(a)?n(a):o()},b[c]&&b[c][j]?g.$observe(j,function(a){p(a),f.events.trigger("option-change",{name:j,newValue:a})}):p(g[j]&&d(g[j])(f.$parent))})},getTextAutosizeThreshold:function(){return c}}}]}),form.factory("tiUtil",["$timeout",function(a){var b={};return b.debounce=function(b,c){var d;return function(){var e=arguments;a.cancel(d),d=a(function(){b.apply(null,e)},c)}},b.makeObjectArray=function(a,b){return a=a||[],a.length>0&&!angular.isObject(a[0])&&a.forEach(function(c,d){a[d]={},a[d][b]=c}),a},b.findInObjectArray=function(a,c,d){for(var e=null,f=0;f<a.length;f++)if(b.safeToString(a[f][d]).toLowerCase()===b.safeToString(c[d]).toLowerCase()){e=a[f];break}return e},b.safeHighlight=function(a,b){function c(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!b)return a;var d=new RegExp("&[^;]+;|"+c(b),"gi");return a.replace(d,function(a){return a===b?"<em>"+b+"</em>":a})},b.safeToString=function(a){return angular.isUndefined(a)||null===a?"":a.toString().trim()},b.encodeHTML=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},b.simplePubSub=function(){var a={};return{on:function(b,c){return b.split(" ").forEach(function(b){a[b]||(a[b]=[]),a[b].push(c)}),this},trigger:function(b,c){var d=a[b]||[];return d.every(function(a){var b=a.call(null,c);return angular.isUndefined(b)||b}),this}}},b}]),angular.module("lussa.ui.form.timePicker",[]).constant("timePickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimePickerController",["$scope","$attrs","$parse","$log","$locale","timePickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),"m"!==b&&(a.minutes=i(d)),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render,o.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g);var i=angular.isDefined(b.arrowkeys)?a.$parent.$eval(b.arrowkeys):f.arrowkeys;i&&this.setupArrowkeyEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$viewValue;isNaN(a)?(o.$setValidity("time",!1),d.error('TimePicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.showSpinners=angular.isDefined(b.showSpinners)?a.$parent.$eval(b.showSpinners):f.showSpinners,a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timePicker",function(){return{restrict:"EA",require:["timePicker","?^ngModel"],controller:"TimePickerController",replace:!0,scope:{},template:'<table class="time-picker">  <tbody>    <tr class="text-center" ng-show="showSpinners">      <td><a ng-click="incrementHours()" class="button button-link" ng-class="buttonClass" ><span class="icon icon-chevron-up"></span></a></td>      <td> </td>      <td><a ng-click="incrementMinutes()" class="button button-link" ng-class="buttonClass" ><span class="icon icon-chevron-up"></span></a></td>      <td ng-show="showMeridian"></td>    </tr>    <tr>      <td class="form-group" ng-class="{\'has-error\': invalidHours}">        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-class="inputClass" ng-readonly="readonlyInput" maxlength="2">      </td>      <td>:</td>      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-class="inputClass" ng-readonly="readonlyInput" maxlength="2">      </td>      <td ng-show="showMeridian"><button type="button" class="button button-primary text-center time-picker-meridian" ng-class="buttonClass" ng-click="toggleMeridian()">{{meridian}}</button></td>    </tr>    <tr class="text-center" ng-show="::showSpinners">      <td><a ng-click="decrementHours()" class="button button-link" ng-class="buttonClass" ><span class="icon icon-chevron-down"></span></a></td>      <td> </td>      <td><a ng-click="decrementMinutes()" class="button button-link" ng-class="buttonClass" ><span class="icon icon-chevron-down"></span></a></td>      <td ng-show="showMeridian"></td>    </tr>  </tbody></table>',link:function(a,b,c,d){var e=d[0],f=d[1];a.inputClass=c.inputClass||"",a.buttonClass=c.buttonClass||"",f&&e.init(f,b.find("input"))}}});var form=angular.module("lussa.ui.form.validation",[]);form.directive("uiMatch",["$parse","$log",function(a,b){return{require:"?ngModel",restrict:"A",link:function(b,c,d,e){if(e&&d.uiMatch){var f=a(d.uiMatch),g=function(a){var c=f(b),d=a===c;return e.$setValidity("match",d),a};e.$parsers.unshift(g),e.$formatters.push(g),d.$observe("ngMatch",function(){g(e.$viewValue)})}}}}]);var LussaUiForm=angular.module("lussa.ui.helper",["lussa.ui.helper.position","lussa.ui.helper.bindHtml"]);angular.module("lussa.ui.helper.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("lussa.ui.helper.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]);var LoadingBar=angular.module("lussa.ui.loadingBar",[]);LoadingBar.config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","loadingBar",function(b,c,d,e,f){function g(){d.cancel(i),f.complete(),k=0,j=0}function h(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d?void 0!==d.get(b.url):!1;return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var i,j=0,k=0,l=f.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||h(a)||(e.$broadcast("loadingBar:loading",{url:a.url}),0===j&&(i=d(function(){f.start()},l)),j++,f.set(k/j)),a},response:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("loadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),a},responseError:function(a){return a.config.ignoreLoadingBar||h(a.config)||(k++,e.$broadcast("loadingBar:loaded",{url:a.config.url}),k>=j?g():f.set(k/j)),b.reject(a)}}}];a.interceptors.push(b)}]),LoadingBar.provider("loadingBar",function(){this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){k||(k=a.get("$animate"));var e=b.find(n);c.cancel(m),q||(d.$broadcast("loadingBar:started"),q=!0,k.enter(o,e),f(s))}function f(a){if(q){var b=100*a+"%";p.css("width",b),r=a,c.cancel(l),l=c(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return r}function i(){r=0,q=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("loadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i)},500)}var k,l,m,n=this.parentSelector,o=angular.element("<div class=progress-container><div class='progress-bar'>&nbsp;</div></div>"),p=o.find(".progress-bar"),q=!1,r=0,s=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]});var LussaUi=angular.module("lussa.ui",["lussa.ui.form","lussa.ui.helper","lussa.ui.dropdown","lussa.ui.loadingBar","lussa.ui.toast","lussa.ui.tabs","lussa.ui.pagination","lussa.ui.carousel","lussa.ui.collapse","lussa.ui.offcanvas","lussa.ui.table","lussa.ui.modal","lussa.ui.tooltip","lussa.ui.popover"]),modal=angular.module("lussa.ui.modal",[]);modal.factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),modal.factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}),modal.directive("modalBackdrop",["$animateCss","$injector","$modalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a(d,{addClass:e.modalInClass}).start(),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a(d,{removeClass:e.modalInClass}).start().then(g):g()}))}return{replace:!0,template:'<div class="modal-backdrop"     modal-animation-class="fade"     modal-in-class="in"     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"></div>',compile:function(a,b){return a.addClass(b.backdropClass),d}}}]),modal.directive("modalWindow",["$modalStack","$q","$animate","$animateCss","$document",function(a,b,c,d,e){var f='<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"    modal-animation-class="fade"    modal-in-class="in"    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div></div>';return{scope:{index:"@"},replace:!0,transclude:!0,template:f,link:function(f,g,h){g.addClass(h.windowClass||""),g.addClass(h.windowTopClass||""),f.size=h.size,f.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},g.on("click",f.close),f.$isRendered=!0;var i=b.defer();h.$observe("modalRender",function(a){"true"===a&&i.resolve()}),i.promise.then(function(){var i=null;h.modalInClass&&(i=d(g,{addClass:h.modalInClass}).start(),f.$on(a.NOW_CLOSING_EVENT,function(a,b){var e=b();d?d(g,{removeClass:h.modalInClass}).start().then(e):c.removeClass(g,h.modalInClass).then(e)})),b.when(i).then(function(){if(!e[0].activeElement||!g[0].contains(e[0].activeElement)){var a=g[0].querySelector("[autofocus]");a?a.focus():g[0].focus()}});var j=a.getTop();j&&a.modalRendered(j.key)})}}}]),modal.directive("modalAnimationClass",[function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.modalAnimationClass)}}}]),modal.directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}),modal.factory("$modalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h){function i(){for(var a=-1,b=t.keys(),c=0;c<b.length;c++)t.get(b[c]).value.backdrop&&(a=c);return a}function j(a,b){var c=t.get(a).value,d=c.appendTo;t.remove(a),m(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||s;u.remove(b,a),d.toggleClass(b,u.hasKey(b)),k(!0)}),l(),b&&b.focus?b.focus():d.focus()}function k(a){var b;t.length()>0&&(b=t.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function l(){if(p&&-1===i()){var a=q;m(p,q,function(){a=null}),p=void 0,q=void 0}}function m(a,c,d,e){function g(){g.done||(g.done=!0,b(a,{event:"leave"}).start().then(function(){a.remove(),e&&e.resolve()}),c.$destroy(),d&&d())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(v.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function n(a){if(a.isDefaultPrevented())return a;var b=t.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){v.dismiss(b.key,"escape key press")}));break;case 9:v.loadFocusElementList(b);var c=!1;a.shiftKey?v.isFocusInFirstItem(a)&&(c=v.focusLastFocusableElement()):v.isFocusInLastItem(a)&&(c=v.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}function o(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var p,q,r,s="modal-open",t=h.createNew(),u=g.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"},w=0,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(i,function(a){q&&(q.index=a)}),c.on("keydown",n),e.$on("$destroy",function(){c.off("keydown",n)}),v.open=function(b,f){var g=c[0].activeElement,h=f.openedClass||s;k(!1),t.add(b,{deferred:f.deferred,
renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),u.put(h,b);var j=f.appendTo,l=i();if(!j.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");l>=0&&!p&&(q=e.$new(!0),q.modalOptions=f,q.index=l,p=angular.element('<div modal-backdrop="modal-backdrop"></div>'),p.attr("backdrop-class",f.backdropClass),f.animation&&p.attr("modal-animation","true"),d(p)(q),a.enter(p,j));var m=angular.element('<div modal-window="modal-window"></div>');m.attr({"template-url":f.windowTemplateUrl,"window-class":f.windowClass,"window-top-class":f.windowTopClass,size:f.size,index:t.length()-1,animate:"animate"}).html(f.content),f.animation&&m.attr("modal-animation","true"),a.enter(m,j).then(function(){d(m)(f.scope),a.addClass(j,h)}),t.top().value.modalDomEl=m,t.top().value.modalOpener=g,v.clearFocusListCache()},v.close=function(a,b){var c=t.get(a);return c&&o(c,b,!0)?(c.value.modalScope.$$DestructionScheduled=!0,c.value.deferred.resolve(b),j(a,c.value.modalOpener),!0):!c},v.dismiss=function(a,b){var c=t.get(a);return c&&o(c,b,!1)?(c.value.modalScope.$$DestructionScheduled=!0,c.value.deferred.reject(b),j(a,c.value.modalOpener),!0):!c},v.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},v.getTop=function(){return t.top()},v.modalRendered=function(a){var b=t.get(a);b&&b.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return r.length>0?(r[0].focus(),!0):!1},v.focusLastFocusableElement=function(){return r.length>0?(r[r.length-1].focus(),!0):!1},v.isFocusInFirstItem=function(a){return r.length>0?(a.target||a.srcElement)===r[0]:!1},v.isFocusInLastItem=function(a){return r.length>0?(a.target||a.srcElement)===r[r.length-1]:!1},v.clearFocusListCache=function(){r=[],w=0},v.loadFocusElementList=function(a){if((void 0===r||!r.length)&&a){var b=a.value.modalDomEl;b&&b.length&&(r=b[0].querySelectorAll(x))}},v}]),modal.provider("$modal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$document","$templateRequest","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):f(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function j(a){var c=[];return angular.forEach(a,function(a){c.push(angular.isFunction(a)||angular.isArray(a)?d.when(b.invoke(a)):angular.isString(a)?d.when(b.get(a)):d.when(a))}),c}var k={},l=null;return k.getPromiseChain=function(){return l},k.open=function(b){function f(){return r}var k=d.defer(),m=d.defer(),n=d.defer(),o=d.defer(),p={result:k.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},b.appendTo=b.appendTo||e.find("body").eq(0),!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var q,r=d.all([i(b)].concat(j(b.resolve)));return q=l=d.all([l]).then(f,f).then(function(a){var d=(b.scope||c).$new();d.$close=p.close,d.$dismiss=p.dismiss,d.$on("$destroy",function(){d.$$DestructionScheduled||d.$dismiss("$UnscheduledDestruction")});var e,f={},i=1;b.controller&&(f.$scope=d,f.$modalInstance=p,angular.forEach(b.resolve,function(b,c){f[c]=a[i++]}),e=g(b.controller,f),b.controllerAs&&(b.bindToController&&angular.extend(e,d),d[b.controllerAs]=e)),h.open(p,{scope:d,deferred:k,renderDeferred:o,closedDeferred:n,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowTopClass:b.windowTopClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size,openedClass:b.openedClass,appendTo:b.appendTo}),m.resolve(!0)},function(a){m.reject(a),k.reject(a)})["finally"](function(){l===q&&(l=null)}),p},k}]};return a}),angular.module("lussa.ui.offcanvas",[]).directive("offcanvas",["$animate","$log","$q",function(a,b,c){var d=function(b,d,e){function f(){k.removeClass("canvas-in"),c.all([a.addClass(k,"canvas-out"),a.addClass(d,"in")]).then(g())}function g(){}function h(){k.removeClass("canvas-out"),c.all([a.addClass(k,"canvas-in"),a.removeClass(d,"in")]).then(i())}function i(){}var j=e.canvas||"body",k=angular.element(j),l=(k.find(".navbar.navbar-fixed-top, .navbar.navbar-fixed-bottom"),"left"),m=780,n=520,o=0;d.hasClass("sidebar-fixed-right")&&(l="right"),d.hasClass("offcanvas-mobile")&&(o=n),d.hasClass("offcanvas-tablet")&&(o=m),angular.isUndefined(b.offcanvas)&&(b.offcanvas=window.innerWidth<=o),window.onresize=function(){b.offcanvas=window.innerWidth<=o,b.$apply()},b.$watch("offcanvas",function(a){a?h():f()})};return{scope:{offcanvas:"="},link:d,restrict:"A"}}]);var pagination=angular.module("lussa.ui.pagination",[]);pagination.directive("paginationBar",["$log","$sce",function(a,b){var c=10,d='<nav><ul>	<!-- previous -->	<li ng-hide="previousPage() == false"><a ng-href="{{ path }}?page={{ previousPage() }}">		<span class="icon icon-ios-arrow-left pagination-icon-prev"></span>sebelumnya</a></li>	<!-- early segment -->	<li ng-hide="pages.early.length < 1" ng-repeat="page in pages.early">		<a ng-href="{{ path }}?page={{ page }}">{{page}}</a></li>	<li ng-hide="pages.early.length < 1" class="separator">...</li>	<!-- middle -->	<li ng-hide="pages.middle.length < 1" ng-repeat="page in pages.middle" ng-class="page == currentPage?\'active\':\'\'">		<a ng-href="{{ path }}?page={{ page }}">{{page}}</a></li>	<!-- last segment -->	<li ng-hide="pages.last.length < 1" class="separator">...</li>	<li ng-hide="pages.last.length < 1" ng-repeat="page in pages.last">		<a ng-href="{{ path }}?page={{ page }}">{{page}}</a></li>	<!-- next segment -->	<li ng-hide="nextPage() == false"><a ng-href="{{ path }}?page={{ nextPage() }}">selanjutnya		<span class="icon icon-ios-arrow-right pagination-icon-next"></span></a></li></ul></nav>';return{restrict:"E",scope:{currentPage:"@",itemPerPage:"@",totalItems:"@",path:"@"},template:d,link:function(a,b,d,e){var f={middle:5,tip:3};a.path=a.path||window.location.pathname,a.currentPage=a.currentPage||1,a.totalItems=a.totalItems||1,a.itemPerPage=a.itemPerPage||c,a.pages={early:[],middle:[],last:[]},a.nextPage=function(){return a.totalPages=Math.ceil(a.totalItems/a.itemPerPage)||1,parseInt(a.totalPages,10)===parseInt(a.currentPage,10)?!1:parseInt(a.currentPage,10)+1},a.previousPage=function(){return a.totalPages=Math.ceil(a.totalItems/a.itemPerPage)||1,1===parseInt(a.totalPages,10)?!1:parseInt(a.currentPage,10)-1};var g=function(a,b,c){var a=parseInt(a,10)||1,b=parseInt(b,10)||1,c=parseInt(c,10)||10,d=Math.ceil(b/c)||1,e=1,g=d,h=0,i={early:[],middle:[],last:[]};if(d>2*f.tip+f.middle){if(a>f.tip+f.middle+1){for(h=1;h<f.tip+1;h++)i.early.push(h);e=a-Math.floor((f.middle-1)/2)}if(a<d-(f.tip+f.middle+1)){for(h=d-f.tip+1;d+1>h;h++)i.last.push(h);g=a+Math.ceil((f.middle-1)/2)}}for(h=e;g+1>h;h++)i.middle.push(h);return i};a.pages=g(a.currentPage,a.totalItems,a.itemPerPage),a.$watch("currentPage",function(b,c){a.pages=g(a.currentPage,a.totalItems,a.itemPerPage)}),a.$watch("totalItems",function(b,c){a.pages=g(a.currentPage,a.totalItems,a.itemPerPage)}),a.$watch("itemPerPage",function(b,c){a.pages=g(a.currentPage,a.totalItems,a.itemPerPage)})}}}]),angular.module("lussa.ui.popover",["lussa.ui.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},template:'<div class="popover"  tooltip-animation-class="fade"  tooltip-classes  ng-class="{ in: isOpen() }">  <div class="arrow"></div>  <div class="popover-inner">      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>      <div class="popover-content"        tooltip-template-transclude="contentExp()"        tooltip-template-transclude-scope="originScope()"></div>  </div></div>'}}).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},template:'<div class="popover"  tooltip-animation-class="fade"  tooltip-classes  ng-class="{ in: isOpen() }">  <div class="arrow"></div>  <div class="popover-inner">      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>      <div class="popover-content" ng-bind="content"></div>  </div></div>'}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]);var table=angular.module("lussa.ui.table",[]);table.value("tableDefaults",{params:{},settings:{}}),table.factory("TableParams",["$q","$log","tableDefaults",function(a,b,c){var d=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},e=function(e,f){var g=this,h=function(){j.debugMode&&b.debug&&b.debug.apply(this,arguments)};this.data=[],this.parameters=function(a,b){if(b=b||!1,angular.isDefined(a)){for(var c in a){var e=a[c];if(b&&c.indexOf("[")>=0){for(var f=c.split(/\[(.*)\]/).reverse(),g="",j=0,k=f.length;k>j;j++){var l=f[j];if(""!==l){var m=e;e={},e[g=l]=d(m)?parseFloat(m):m}}"sorting"===g&&(i[g]={}),i[g]=angular.extend(i[g]||{},e[g])}else i[c]=d(a[c])?parseFloat(a[c]):a[c]}return h("uiTable: set parameters",i),this}return i},this.settings=function(a){return angular.isDefined(a)?(angular.isArray(a.data)&&(a.total=a.data.length),j=angular.extend(j,a),h("uiTable: set settings",j),this):j},this.page=function(a){return angular.isDefined(a)?this.parameters({page:a}):i.page},this.total=function(a){return angular.isDefined(a)?this.settings({total:a}):j.total},this.count=function(a){return angular.isDefined(a)?this.parameters({count:a,page:1}):i.count},this.filter=function(a){return angular.isDefined(a)?this.parameters({filter:a,page:1}):i.filter},this.sorting=function(a){if(2==arguments.length){var b={};return b[a]=arguments[1],this.parameters({sorting:b}),this}return angular.isDefined(a)?this.parameters({sorting:a}):i.sorting},this.isSortBy=function(a,b){return angular.isDefined(i.sorting[a])&&angular.equals(i.sorting[a],b)},this.orderBy=function(){var a=[];for(var b in i.sorting)a.push(("asc"===i.sorting[b]?"+":"-")+b);return a},this.getData=function(a,b){return a.resolve(angular.isArray(this.data)&&angular.isObject(b)?this.data.slice((b.page()-1)*b.count(),b.page()*b.count()):[]),a.promise},this.getGroups=function(b,c){var d=a.defer();return d.promise.then(function(a){var d={};angular.forEach(a,function(a){var b=angular.isFunction(c)?c(a):a[c];d[b]=d[b]||{data:[]},d[b].value=b,d[b].data.push(a)});var e=[];for(var f in d)e.push(d[f]);h("uiTable: refresh groups",e),b.resolve(e)}),this.getData(d,g)},this.generatePagesArray=function(a,b,c,d){var e,f,g,h,i;if(d=d&&6>d?6:d,i=[],h=Math.ceil(b/c),h>1){i.push({type:"prev",number:Math.max(1,a-1),active:a>1}),i.push({type:"first",number:1,active:a>1,current:1===a}),f=Math.round((j.paginationMaxBlocks-j.paginationMinBlocks)/2),g=Math.max(2,a-f),e=Math.min(h-1,a+2*f-(a-g)),g=Math.max(2,g-(2*f-(e-g)));for(var k=g;e>=k;)i.push(k===g&&2!==k||k===e&&k!==h-1?{type:"more",active:!1}:{type:"page",number:k,active:a!==k,current:a===k}),k++;i.push({type:"last",number:h,active:a!==h,current:a===h}),i.push({type:"next",number:Math.min(h,a+1),active:h>a})}return i},this.url=function(a){a=a||!1;var b=a?[]:{};for(var c in i)if(i.hasOwnProperty(c)){var d=i[c],e=encodeURIComponent(c);if("object"==typeof d){for(var f in d)if(!angular.isUndefined(d[f])&&""!==d[f]){var g=e+"["+encodeURIComponent(f)+"]";a?b.push(g+"="+d[f]):b[g]=d[f]}}else angular.isFunction(d)||angular.isUndefined(d)||""===d||(a?b.push(e+"="+encodeURIComponent(d)):b[e]=encodeURIComponent(d))}return b},this.reload=function(){var b=a.defer(),c=this,d=null;if(j.$scope)return j.$loading=!0,d=j.groupBy?j.getGroups(b,j.groupBy,this):j.getData(b,this),h("uiTable: reload data"),d||(d=b.promise),d.then(function(a){return j.$loading=!1,h("uiTable: current scope",j.$scope),j.groupBy?(c.data=a,j.$scope&&(j.$scope.$groups=a)):(c.data=a,j.$scope&&(j.$scope.$data=a)),j.$scope&&(j.$scope.pages=c.generatePagesArray(c.page(),c.total(),c.count()),j.$scope.$emit("uiTableAfterReloadData")),a})},this.reloadPages=function(){var a=this;j.$scope.pages=a.generatePagesArray(a.page(),a.total(),a.count())};var i=this.$params={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null};angular.extend(i,c.params);var j={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span",getGroups:this.getGroups,getData:this.getData};return angular.extend(j,c.settings),this.settings(f),this.parameters(e,!0),this};return e}]),table.controller("tableController",["$scope","TableParams","$timeout","$parse","$compile","$attrs","$element","tableColumn",function(a,b,c,d,e,f,g,h){function i(){a.params.$params.page=1}var j=!0,k='<tr>    <th title="{{$column.headerTitle(this)}}"        ng-repeat="$column in $columns"        ng-class="{                    \'sortable\': $column.sortable(this),                    \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\',                    \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\'                  }"        ng-click="sortBy($column, $event)"        ng-show="$column.show(this)"        ng-init="template = $column.headerTemplateURL(this)"        class="header {{$column.class(this)}}">          <div ng-if="!template" ng-show="!template" class="ui-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator == \'div\'}">            <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator == \'span\'}"></span>          </div>          <div ng-if="template" ng-show="template" ng-include="template"></div>    </th></tr><tr ng-show="show_filter" class="ui-table-filters">    <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-show="$column.show(this)" class="filter">        <div ng-repeat="(name, filter) in $column.filter(this)">            <div ng-if="filter.indexOf(\'/\') !== -1" ng-include="filter"></div>            <input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-if="filter == \'text\'" class="input-filter form-control" />           <select ng-options="data.id as data.title for data in $column.data"               ng-disabled="$filterRow.disabled"               ng-model="params.filter()[name]"               ng-if="filter == \'select\'"               class="filter filter-select form-control" name="{{name}}">           </select>           <select ng-options="data.id as data.title for data in $column.data"               ng-disabled="$filterRow.disabled"               multiple ng-multiple="true"               ng-model="params.filter()[name]"               ng-if="filter == \'select-multiple\'"               class="filter filter-select-multiple form-control" name="{{name}}">           </select>        </div>    </th></tr>';a.$filterRow={},a.$loading=!1,a.hasOwnProperty("params")||(a.params=new b,a.params.isNullInstance=!0),a.params.settings().$scope=a;var l=function(){var a=0;return function(b,d){c.cancel(a),a=c(b,d)}}();a.$watch("params.$params",function(b,c){if(b!==c){if(a.params.settings().$scope=a,angular.equals(b.filter,c.filter))a.params.reload();else{var d=j?angular.noop:i;l(function(){d(),a.params.reload()},a.params.settings().filterDelay)}a.params.isNullInstance||(j=!1)}},!0),this.compileDirectiveTemplates=function(){var b,c;g.hasClass("ui-table")||(g.addClass("ui-table"),0===g.find("> thead").length&&(f.templateHeader?(a.templateHeader=f.templateHeader,b=angular.element(document.createElement("thead")).attr("ng-include","templateHeader")):b=angular.element(document.createElement("thead")).append(e(k)(a)),g.prepend(b)),c=angular.element(document.createElement("div")).attr({"table-pagination":"params"}),f.templatePagination&&(a.templatePagination=f.templatePagination,c.attr("template-url","templatePagination")),g.after(c),b&&e(b)(a),e(c)(a))},this.loadFilterData=function(b){angular.forEach(b,function(b){var c;return c=b.filterData(a,{$column:b}),c?angular.isObject(c)&&angular.isObject(c.promise)?(delete b.filterData,c.promise.then(function(a){angular.isArray(a)||angular.isFunction(a)||angular.isObject(a)?angular.isArray(a)&&a.unshift({title:"-",id:""}):a=[],b.data=a})):(b.data=c,b.data):void delete b.filterData})},this.buildColumns=function(b){return b.map(function(b){return h.buildColumn(b,a)})},this.setupBindingsToInternalScope=function(b){var c=d(b);a.$watch(c,function(b){angular.isUndefined(b)||(a.paramsModel=c,a.params=b)},!1),f.showFilter&&a.$parent.$watch(f.showFilter,function(b){a.show_filter=b}),f.disableFilter&&a.$parent.$watch(f.disableFilter,function(b){a.$filterRow.disabled=b})},a.sortBy=function(b,c){var d=b.sortable&&b.sortable();if(d){var e=a.params.settings().defaultSort,f="asc"===e?"desc":"asc",g=a.params.sorting()&&a.params.sorting()[d]&&a.params.sorting()[d]===e,h=c.ctrlKey||c.metaKey?a.params.sorting():{};h[d]=g?f:e,a.params.parameters({sorting:h})}}}]),table.factory("tableColumn",[function(){function a(a,c){var d=Object.create(a);for(var e in b)void 0===d[e]&&(d[e]=b[e]),angular.isFunction(d[e])||!function(b){d[b]=function(){return a[b]}}(e),function(b){var e=d[b];d[b]=function(){return 0===arguments.length?e.call(a,c):e.apply(a,arguments)}}(e);return d}var b={"class":function(){return""},filter:function(){return!1},filterData:angular.noop,headerTemplateURL:function(){return!1},headerTitle:function(){return""},sortable:function(){return!1},show:function(){return!0},title:function(){return""},titleAlt:function(){return""}};return{buildColumn:a}}]),table.directive("uiTable",["$q","$parse",function(a,b){return{restrict:"A",priority:1001,scope:!0,controller:"tableController",compile:function(a){var c=[],d=0,e=null;return angular.forEach(angular.element(a.find("tr")),function(a){a=angular.element(a),a.hasClass("ui-table-group")||e||(e=a)}),e?(angular.forEach(e.find("td"),function(a){var e=angular.element(a);if(!e.attr("ignore-cell")||"true"!==e.attr("ignore-cell")){var f=function(a){return e.attr("x-data-"+a)||e.attr("data-"+a)||e.attr(a)},g=function(a){var d=f(a);return d?function(a,e){return b(d)(a,angular.extend(e||{},{$columns:c}))}:void 0},h=f("title-alt")||f("title");h&&e.attr("data-title-text","{{"+h+"}}"),c.push({id:d++,title:g("title"),titleAlt:g("title-alt"),headerTitle:g("header-title"),sortable:g("sortable"),"class":g("header-class"),filter:g("filter"),headerTemplateURL:g("header"),filterData:g("filter-data"),show:e.attr("ng-show")?function(a){return b(e.attr("ng-show"))(a)}:void 0})}}),function(a,b,d,e){a.$columns=c=e.buildColumns(c),e.setupBindingsToInternalScope(d.uiTable),e.loadFilterData(c),e.compileDirectiveTemplates()}):void 0}}}]),table.directive("tableDynamic",["$parse",function(a){function b(a){if(!a||a.indexOf(" with ")>-1){var b=a.split(/\s+with\s+/);return{tableParams:b[0],columns:b[1]}}throw new Error("Parse error (expected example: ui-table-dynamic='tableParams with cols')")}return{restrict:"A",priority:1001,scope:!0,controller:"tableController",compile:function(c){var d;return angular.forEach(angular.element(c.find("tr")),function(a){a=angular.element(a),a.hasClass("ui-table-group")||d||(d=a)}),d?(angular.forEach(d.find("td"),function(a){var b=angular.element(a),c=function(a){return b.attr("x-data-"+a)||b.attr("data-"+a)||b.attr(a)},d=c("title");d||b.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}");var e=b.attr("ng-show");e||b.attr("ng-show","$columns[$index].show(this)")}),function(c,d,e,f){var g=b(e.tableDynamic),h=a(g.columns)(c)||[];c.$columns=f.buildColumns(h),f.setupBindingsToInternalScope(g.tableParams),f.loadFilterData(c.$columns),f.compileDirectiveTemplates()}):void 0}}}]),table.directive("tablePagination",["$compile",function(a){var b='<div class="ng-cloak ui-table-pager clearfix" ng-if="params.data.length">    <div ng-if="params.settings().counts.length" class="ui-table-counts button-group pull-right">        <button ng-repeat="count in params.settings().counts" type="button"                ng-class="{\'active\':params.count() == count}"                ng-click="params.count(count)" class="button button-default">            <span ng-bind="count"></span>        </button>    </div>    <ul class="pagination ui-table-pagination">            <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type">                <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">«</a>                <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>                <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>                <a ng-switch-when="more" ng-click="params.page(page.number)" href="">…</a>                <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>                <a ng-switch-when="next" ng-click="params.page(page.number)" href="">»</a>            </li>    </ul></div>';return{restrict:"A",scope:{params:"=tablePagination",templateUrl:"="},replace:!1,link:function(c,d,e){var f=c.params.settings();f.$scope.$on("uiTableAfterReloadData",function(){var a=c.params.page(),b=c.params.total(),d=c.params.count(),e=f.paginationMaxBlocks;c.pages=c.params.generatePagesArray(a,b,d,e)},!0),c.$watch("templateUrl",function(e){var f=angular.element(document.createElement("div"));angular.isUndefined(e)?f.append(a(b)(c)):f.attr({"ng-include":"templateUrl"}),d.append(f),a(f)(c)})}}}]),angular.module("lussa.ui.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",template:'<div>  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>  <div class="tab-content">    <div class="tab-pane"          ng-repeat="tab in tabs"          ng-class="{active: tab.active}"         tab-content-transclude="tab">    </div>  </div></div>',link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:!0,template:'<li ng-class="{active: active, disabled: disabled}">  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a></li>',transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(c,d,e){return function(c,d,f,g){c.$watch("active",function(a){a&&g.select(c)}),c.disabled=!1,f.disable&&c.$parent.$watch(a(f.disable),function(a){c.disabled=!!a}),f.disabled&&(b.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),c.$parent.$watch(a(f.disabled),function(a){c.disabled=!!a})),c.select=function(){c.disabled||(c.active=!0)},g.addTab(c),c.$on("$destroy",function(){g.removeTab(c)}),c.$transcludeFn=e}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}});var toast=angular.module("lussa.ui.toast",["ngAnimate","ngSanitize"]);toast.provider("toast",[function(){var a=[],b=[],c={className:"info",dismissOnTimeout:!0,timeout:5e3,dismissButton:!0,dismissButtonHtml:"",dismissOnClick:!0,compileContent:!1,horizontalPosition:"right",verticalPosition:"top",maxNumber:0},d=function(b){for(var d=Math.floor(1e3*Math.random());a.indexOf(d)>-1;)d=Math.floor(1e3*Math.random());this.id=d,this.className=c.className,this.dismissOnTimeout=c.dismissOnTimeout,this.timeout=c.timeout,this.dismissButton=c.dismissButton,this.dismissButtonHtml=c.dismissButtonHtml,this.dismissOnClick=c.dismissOnClick,this.compileContent=c.compileContent,angular.extend(this,b)};this.configure=function(a){angular.extend(c,a)},this.$get=[function(){return{settings:c,messages:a,dismiss:function(c){if(c){for(var d=a.length-1;d>=0;d--)if(a[d].id===c)return a.splice(d,1),void b.splice(b.indexOf(c),1)}else{for(;a.length>0;)a.pop();b=[]}},create:function(e){c.maxNumber>0&&b.length>=c.maxNumber&&this.dismiss(b[0]),e="string"==typeof e?{content:e}:e;var f=new d(e);return"bottom"===c.verticalPosition?a.unshift(f):a.push(f),b.push(f.id),f.id}}}]}]),toast.directive("toast",["toast","$templateCache","$log",function(a,b,c){return{replace:!0,restrict:"EA",template:'<div class="toast toast--{{hPos}} toast--{{vPos}}"><ul class="toast__list"><toast-message ng-repeat="message in messages" message="message"><span ng-bind-html="message.content"></span></toast-message></ul></div>',compile:function(d,e){if(e.template){var f=b.get(e.template);f?d.replaceWith(f):c.warn("tarsius.toast: Provided template could not be loaded. Please be sure that it is populated before the <toast> element is represented.")}return function(b){b.hPos=a.settings.horizontalPosition,b.vPos=a.settings.verticalPosition,b.messages=a.messages}}}}]),toast.directive("toastMessage",["$timeout","$compile","toast",function(a,b,c){return{replace:!0,transclude:!0,restrict:"EA",scope:{message:"="},controller:["$scope","toast",function(a,b){a.dismiss=function(){b.dismiss(a.message.id)}}],template:'<li class="toast__message"><div class="alert alert-{{message.className}}" ng-class="{\'alert-dismissible\': message.dismissButton}"><a role="link" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></a><span ng-if="!message.compileContent" ng-transclude></span></div></li>',link:function(d,e,f,g,h){if(d.message.compileContent){var i;h(d,function(a){i=a,e.children().append(i)}),a(function(){b(i.contents())(d.$parent,function(a){i.replaceWith(a)})},0)}d.message.dismissOnTimeout&&a(function(){c.dismiss(d.message.id)},d.message.timeout),d.message.dismissOnClick&&e.bind("click",function(){c.dismiss(d.message.id),d.$apply()})}}}]),angular.module("lussa.ui.tooltip",["lussa.ui.helper.position","lussa.ui.helper.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,f,g,h,i,j){return function(e,k,l,m){function n(a){var b=a||m.trigger||l,d=c[b]||b;return{show:b,hide:d}}m=angular.extend({},b,d,m);var o=a(e),p=j.startSymbol(),q=j.endSymbol(),r="<div "+o+'-popup title="'+p+"title"+q+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+p+"content"+q+'" ')+'placement="'+p+"placement"+q+'" popup-class="'+p+"popupClass"+q+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(a,b){var c=f(r);return function(a,b,d,f){function j(){F.isOpen?o():l()}function l(){(!E||a.$eval(d[k+"Enable"]))&&(t(),F.popupDelay?B||(B=g(p,F.popupDelay,!1),B.then(function(a){a()})):p()())}function o(){a.$apply(function(){q()})}function p(){return B=null,A&&(g.cancel(A),A=null),(m.useContentExp?F.contentExp():F.content)?(r(),y.css({top:0,left:0,display:"block"}),F.$digest(),G(),F.isOpen=!0,F.$apply(),G):angular.noop}function q(){F.isOpen=!1,g.cancel(B),B=null,F.animation?A||(A=g(s,500)):s()}function r(){y&&s(),z=F.$new(),y=c(z,function(a){C?h.find("body").append(a):b.after(a)}),z.$watch(function(){g(G,0,!1)}),m.useContentExp&&z.$watch("contentExp()",function(a){!a&&F.isOpen&&q()})}function s(){A=null,y&&(y.remove(),y=null),z&&(z.$destroy(),z=null)}function t(){u(),v(),w()}function u(){F.popupClass=d[k+"Class"]}function v(){var a=d[k+"Placement"];F.placement=angular.isDefined(a)?a:m.placement}function w(){var a=d[k+"PopupDelay"],b=parseInt(a,10);F.popupDelay=isNaN(b)?m.popupDelay:b}function x(){var a=d[k+"Trigger"];H(),D=n(a),D.show===D.hide?b.bind(D.show,j):(b.bind(D.show,l),b.bind(D.hide,o))}var y,z,A,B,C=angular.isDefined(m.appendToBody)?m.appendToBody:!1,D=n(void 0),E=angular.isDefined(d[k+"Enable"]),F=a.$new(!0),G=function(){if(y){var a=i.positionElements(b,y,F.placement,C);a.top+="px",a.left+="px",y.css(a)}};F.origScope=a,F.isOpen=!1,F.contentExp=function(){return a.$eval(d[e])},m.useContentExp||d.$observe(e,function(a){F.content=a,!a&&F.isOpen&&q()}),d.$observe("disabled",function(a){a&&F.isOpen&&q()}),d.$observe(k+"Title",function(a){F.title=a});var H=function(){b.unbind(D.show,l),b.unbind(D.hide,o)};x();var I=a.$eval(d[k+"Animation"]);F.animation=angular.isDefined(I)?!!I:m.animation;var J=a.$eval(d[k+"AppendToBody"]);C=angular.isDefined(J)?J:C,C&&a.$on("$locationChangeSuccess",function(){F.isOpen&&q()}),a.$on("$destroy",function(){g.cancel(A),g.cancel(B),H(),s(),F=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.tooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},template:'<div class="tooltip"  tooltip-animation-class="fade"  tooltip-classes  ng-class="{ in: isOpen() }">  <div class="tooltip-arrow"></div>  <div class="tooltip-inner" ng-bind="content"></div></div>'}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},template:'<div class="tooltip"  tooltip-animation-class="fade"  tooltip-classes  ng-class="{ in: isOpen() }">  <div class="tooltip-arrow"></div>  <div class="tooltip-inner"    tooltip-template-transclude="contentExp()"    tooltip-template-transclude-scope="originScope()"></div></div>'
}}).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},template:'<div class="tooltip"  tooltip-animation-class="fade"  tooltip-classes  ng-class="{ in: isOpen() }">  <div class="tooltip-arrow"></div>  <div class="tooltip-inner" ng-bind-html="contentExp()"></div></div>'}}).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},template:'<div class="tooltip"  tooltip-animation-class="fade"  tooltip-classes  ng-class="{ in: isOpen() }">  <div class="tooltip-arrow"></div>  <div class="tooltip-inner" bind-html-unsafe="content"></div></div>'}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(a,b,c){return b||c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),a("tooltipHtmlUnsafe","tooltip","mouseenter")}]);